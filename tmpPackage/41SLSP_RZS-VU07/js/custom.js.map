{"version":3,"file":"custom.js","mappings":"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AAwB,UAAU,sBAAsB,qSAAqS,6BAA6B,uMAAuM,YAAY,IAAI,aAAa,kaAAka,kDAAkD,0RAA0R,gDAAgD,sWAAsW,0CAA0C,MAAM,yCAAyC,+WAA+W,WAAW,6CAA6C;AAC/2gB;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACHnB;AACA,kkBAAkkB,cAAc,uCAAuC,4CAA4C,iCAAiC,+BAA+B,0CAA0C,aAAa,4DAA4D,kBAAkB,OAAO,cAAc;AAC73B;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACHnB;AACA,+WAA+W,kBAAkB,yBAAyB,kBAAkB,wFAAwF,uCAAuC;AAC3iB;AACA,iEAAe,IAAI;;;;;;;;;;;;;;;ACHZ;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,2BAA2B;AACzE;AACA;AACA;AACA;AACA;AAC+D;AACgB;AACQ;AACZ;AAC3E;AACO;AACP;AACA,qCAAqC,0EAAgB;AACrD,iDAAiD,0FAA4B;AAC7E,wDAAwD,kGAAgC;AACxF;AACA,uBAAuB,eAAe;AACtC;AACA,sBAAsB,sFAA0B;AAChD,SAAS;;;;;;;;;;;;;;;;AC9BT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;AChFM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtLO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,sBAAsB;AACtB,aAAa;AACb;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,uEAAuE,MAAM,uEAAuE,MAAM,+BAA+B,MAAM;AAC/L,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,MAAM,uEAAuE,MAAM,+BAA+B,MAAM;AACvM,4DAA4D,SAAS;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD,WAAW,8BAA8B;AACzC,WAAW,+BAA+B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+D;AACF;AACJ;AACM;AACM;AACrE;AACO;AACP;AACA,qCAAqC,0EAAgB;AACrD,wCAAwC,wEAAmB;AAC3D,yCAAyC,0EAAoB;AAC7D,+CAA+C,gFAAuB;AACtE;AACA,uBAAuB,eAAe;AACtC;AACA,sBAAsB,oEAAiB;AACvC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;;;;;;;;;;;;;;;;AC9CJ;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qDAAqD;AACrD;AACA,4BAA4B,IAAI;AAChC;AACA,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB,oBAAoB;AACpB;AACA,oBAAoB;AACpB,mCAAmC,qCAAqC,KAAK;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,8BAA8B,IAAI;AAClC;AACA;AACA;AACA,qBAAqB;AACrB,sBAAsB;AACtB;AACA;AACA,qCAAqC,qCAAqC,KAAK;AAC/E,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gCAAgC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0BAA0B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,2BAA2B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,+CAA+C;AAClH,+DAA+D,wGAAwG;AACvK,iEAAiE,wHAAwH;AACzL,iEAAiE,4HAA4H;AAC7L,iEAAiE,6HAA6H;AAC9L,iEAAiE,4GAA4G;AAC7K;AACA,wEAAwE,2GAA2G;AACnL,8EAA8E,4HAA4H;AAC1M,4EAA4E,uIAAuI;AACnN,0EAA0E,6IAA6I;AACvN,sFAAsF,4IAA4I;AAClO,8EAA8E,6HAA6H;AAC3M,gFAAgF,wKAAwK;AACxP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA,0CAA0C,uDAAuD;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wCAAwC;AAC3F;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;AC1aD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UChFD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AACgB;AACE;AAC0B;AACR;AACT;AACF;AACR;AACH;AACA;AACE;AACC;AAC7B;;AAEA;;AAEA;AACA;;AAGA,CAAC,YAAY;EACX;EACA,IAAIE,UAAU,GAAG,YAAY;EAC7B,IAAIC,UAAU,GAAG,CAAC,WAAW,EAAE,mBAAmB,EAAE,aAAa,EAAE,YAAY,EAAE,aAAa,EAC5E,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,QAAQ,EAAE,8BAA8B,GACzE,4BAA4B,EAAE,qBAAqB,CAAC;EACxE;AACF;AACA;;EAEE,IAAI3E,GAAG,GAAG3X,OAAO,CAACC,MAAM,CAACoc,UAAU,EAAEC,UAAU,CAAC,CAACC,OAAO,CAAC,gBAAgB,EAAEljB,iEAAc,CAAC;;EAE5F;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEE;EACA,IAAIiY,+CAAM,CAAC,CAAC,CAACC,IAAI,CAAC8K,UAAU,CAAC;EAC7BxgB,OAAO,CAACC,GAAG,CAAC,qBAAqBugB,UAAU,EAAE,CAAC;AAChD,CAAC,EAAE,CAAC,C","sources":["webpack://41SLSP-network/./src/components/alertMessage/index.js","webpack://41SLSP-network/./src/components/altmetric/index.js","webpack://41SLSP-network/./src/components/archivesGetit/index.js","webpack://41SLSP-network/./src/components/author_display_collections/index.js","webpack://41SLSP-network/./src/components/browzine/index.js","webpack://41SLSP-network/./src/components/dotTest/index.js","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-config.service.js","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-journals-startpage.config.js","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-journals-startpage.config_original.js","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-journals-startpage.controller.js","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-journals-startpage.module.js","webpack://41SLSP-network/./src/components/journalsStartPage/index.js","webpack://41SLSP-network/./src/components/libInfo/index.js","webpack://41SLSP-network/./src/components/libInfo/info/index.js","webpack://41SLSP-network/./src/components/libInfo/openHour/index.js","webpack://41SLSP-network/./src/components/libInfo/seed/index.js","webpack://41SLSP-network/./src/components/links/e-container/index.js","webpack://41SLSP-network/./src/components/links/link/index.js","webpack://41SLSP-network/./src/components/links/p-container/index.js","webpack://41SLSP-network/./src/components/onCampus/index.js","webpack://41SLSP-network/./src/components/openUrlILL/index.js","webpack://41SLSP-network/./src/components/openUrlILL/openurl-ill.config.js","webpack://41SLSP-network/./src/components/openingHours/component/index.js","webpack://41SLSP-network/./src/components/openingHours/index.js","webpack://41SLSP-network/./src/components/openingHours/seed/index.js","webpack://41SLSP-network/./src/components/personCard/index.js","webpack://41SLSP-network/./src/components/requestMessage/index.js","webpack://41SLSP-network/./src/components/searchAlsoBody/index.js","webpack://41SLSP-network/./src/components/searchAlso/index.js","webpack://41SLSP-network/./src/factories/messageService.js","webpack://41SLSP-network/./src/loader.js","webpack://41SLSP-network/./src/modules/altmetric/almetric.js","webpack://41SLSP-network/./src/modules/altmetric/index.js","webpack://41SLSP-network/./src/modules/bibtip/bibtip.js","webpack://41SLSP-network/./src/modules/bibtip/index.js","webpack://41SLSP-network/./src/modules/browzine/browzine.js","webpack://41SLSP-network/./src/modules/browzine/index.js","webpack://41SLSP-network/./src/modules/matomo/index.js","webpack://41SLSP-network/./src/modules/matomo/matomo.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/index.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/interceptors/0_pubSub.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/interceptors/itempolicy/index.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/interceptors/itempolicy/itempolicy.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/pubSub.js","webpack://41SLSP-network/./src/modules/pubSubInterceptor/pubSubInterceptor.js","webpack://41SLSP-network/./src/modules/remoteUrl/index.js","webpack://41SLSP-network/./src/modules/remoteUrl/remoteUrl.js","webpack://41SLSP-network/./src/primo/common/index.js","webpack://41SLSP-network/./src/primo/components/index.js","webpack://41SLSP-network/./src/primo/facet/index.js","webpack://41SLSP-network/./src/primo/index.js","webpack://41SLSP-network/./src/primo/library/index.js","webpack://41SLSP-network/./src/primo/location/index.js","webpack://41SLSP-network/./src/primo/record/index.js","webpack://41SLSP-network/./src/primo/session/index.js","webpack://41SLSP-network/./src/primo/state/index.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-openurl-interlibrary/js/eth-openurl-interlibrary.config.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-openurl-interlibrary/js/eth-openurl-interlibrary.html","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/eth-person-card.html","webpack://41SLSP-network/./src/components/altmetric/altmetric.html","webpack://41SLSP-network/./src/components/author_display_collections/author_display_collections.html","webpack://41SLSP-network/./src/components/journalsStartPage/eth-journals-startpage/eth-journals-startpage.html","webpack://41SLSP-network/./src/components/libInfo/info/info.html","webpack://41SLSP-network/./src/components/libInfo/openHour/openhour.html","webpack://41SLSP-network/./src/components/links/e-container/linksContainer.html","webpack://41SLSP-network/./src/components/links/link/link.html","webpack://41SLSP-network/./src/components/links/p-container/linksContainer.html","webpack://41SLSP-network/./src/components/onCampus/onCampus.html","webpack://41SLSP-network/./src/components/openingHours/component/openingHours.html","webpack://41SLSP-network/./src/components/searchAlsoBody/searchAlsoBody.html","webpack://41SLSP-network/./src/factories/messageService.html","webpack://41SLSP-network/./node_modules/primo-explore-eth-openurl-interlibrary/js/eth-openurl-interlibrary.controller.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-openurl-interlibrary/js/eth-openurl-interlibrary.module.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-openurl-interlibrary/js/services/eth-config.service.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/eth-person-card.config.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/eth-person-card.controller.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/eth-person-card.module.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/eth-person-card.service.js","webpack://41SLSP-network/./node_modules/primo-explore-eth-person-card/js/services/eth-config.service.js","webpack://41SLSP-network/webpack/bootstrap","webpack://41SLSP-network/webpack/runtime/compat get default export","webpack://41SLSP-network/webpack/runtime/define property getters","webpack://41SLSP-network/webpack/runtime/hasOwnProperty shorthand","webpack://41SLSP-network/webpack/runtime/make namespace object","webpack://41SLSP-network/./src/index.js"],"sourcesContent":["class AlertMessageController {\r\n  constructor($scope, MessageService) {\r\n    this.$scope = $scope;\r\n    this.MessageService = MessageService;    \r\n  }\r\n\r\n  $onInit() {\r\n    let self = this;\r\n    self.MessageService.show('', self.$scope);\r\n  }\r\n}\r\n\r\nAlertMessageController.$inject = ['$scope', 'MessageService'];\r\n\r\nexport let alertMessagecomponent = {\r\n  name: 'rzs-alert-message',  \r\n  enabled: true,\r\n // appendTo: 'prm-top-bar-before', \r\n  appendTo: 'slsp-top-bar-before',\r\n  enableInView: '.*',  \r\n  config: {\r\n    bindings: {parentCtrl: '<'},\r\n    controller: AlertMessageController,\r\n    template: ''\r\n  }\r\n}\r\n","import altmetricHTML from './altmetric.html'\r\n\r\n/*\r\n//script needs to be loaded first. Can be put in the $onInit() function\r\n//or better in run method.\r\napp.run(($templateCache) => {\r\n  Helper.loadScript('https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js?' + Date.now()).then(function () {\r\n    console.log('altmerics.js loaded');\r\n  });\r\n});\r\n*/\r\n\r\n\r\nclass AltMetricController {\r\n  constructor($element, $window, $scope) {\r\n    this.$element = $element;\r\n    this.$window = $window;\r\n    this.$scope = $scope;\r\n  }\r\n\r\n  $onInit() {\r\n    var self = this;\r\n    let item = self.parentCtrl.parentCtrl.item;\r\n\r\n    self.doi = '';\r\n    self.isbn = '';\r\n    self.id = self.guid();\r\n    self.recordid = '';\r\n\r\n\r\n    if (item && item.pnx && item.pnx.addata) {\r\n      self.recordid = item.pnx.control.recordid[0];\r\n      if (item.pnx.addata.doi) {\r\n        self.doi = item.pnx.addata.doi[0];\r\n      }\r\n\r\n      if (item.pnx.addata.isbn) {\r\n        self.isbn = item.pnx.addata.isbn[0];\r\n      }\r\n    }\r\n\r\n    //this is a watcher on the local scope and will trigger altmetric\r\n    let altmetricWatcher = self.$scope.$watch(() => {\r\n      let altmetricLoaded = (typeof window._altmetric_embed_init) === 'function';\r\n      let isbnExists = document.querySelector(`#altmetric-isbn-${self.id}`) != null;\r\n      let doiExists = document.querySelector(`#altmetric-doi-${self.id}`) != null;\r\n      let runTrigger = ( altmetricLoaded && (isbnExists || doiExists) );\r\n\r\n      //console.log(self.id, altmetricLoaded, isbnExists, doiExists, runTrigger);\r\n      return runTrigger;\r\n    }, (n, o) => {\r\n      if (n == true) {\r\n        console.log(\"trigger altmetric for:\", self.recordid);\r\n        self.$window._altmetric_embed_init(`#altmetric-isbn-${self.id}`);\r\n        self.$window._altmetric_embed_init(`#altmetric-doi-${self.id}`);\r\n        altmetricWatcher(); //deregister watcher\r\n      }\r\n    }, false);\r\n  }\r\n\r\n  guid() {\r\n    let s4 = function() {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    };\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n      s4() + '-' + s4() + s4() + s4();\r\n  }\r\n}\r\n\r\nAltMetricController.$inject = ['$element', '$window', '$scope'];\r\n\r\nexport let altMetricComponent = {\r\n  name: 'rzs-altmetric',  \r\n  enabled: true,\r\n  appendTo: 'prm-brief-result-after',\r\n  enableInView: '.*',\r\n  config: {  \r\n    bindings: {\r\n      parentCtrl: '<'\r\n    },\r\n    controller: AltMetricController,\r\n    template: altmetricHTML\r\n  }\r\n}\r\n","// import 'primo-explore-eth-archives-getit';\r\n\r\n// class ArchivesGetitController {\r\n//   constructor() {\r\n//     this.mainParentCtrl = this.parentCtrl;\r\n//   }\r\n// }\r\n\r\n// export let rzsArchivesComponent = {\r\n//     name: 'rzs-archives-getit',  \r\n//     enabled: false,    \r\n//     appendTo: 'slsp-alma-viewit-after',\r\n//     enableInView: '.*',  \r\n//     config: {      \r\n//       bindings: {parentCtrl: '<'},\r\n//       controller: ArchivesGetitController,\r\n//       template: '<eth-archives-getit-component after-ctrl=\"$ctrl.mainParentCtrl\"></eth-archives-getit-component>'\r\n//     }\r\n//   }","import authorDisplayCollectionsHTML from './author_display_collections.html'\r\n\r\nclass AuthorDisplayCollectionsController {\r\n    constructor() {\r\n    }\r\n\r\n    $onInit() {\r\n        var vm = this;\r\n        vm.showAuthor = function() {\r\n            \r\n            if (vm.parentCtrl.parentCtrl.item.pnx.addata.hasOwnProperty('au')){\r\n                vm.author = vm.parentCtrl.parentCtrl.item.pnx.addata.au[0] || '';\r\n            }\r\n            else if (vm.parentCtrl.parentCtrl.item.pnx.addata.hasOwnProperty('addau')){\r\n                vm.author = vm.parentCtrl.parentCtrl.item.pnx.addata.addau[0] || '';\r\n            }\r\n              \r\n            if (vm.author !== '') {\r\n                return true;\r\n            }\r\n        };        \r\n    }\r\n}\r\n\r\nexport let authorDisplayCollectionsConfig = {\r\n    name: 'rzs-author-display-collections',\r\n    config: {\r\n        bindings: {parentCtrl: '<'},\r\n        controller: AuthorDisplayCollectionsController,\r\n        template: authorDisplayCollectionsHTML\r\n    },\r\n    enabled: true,\r\n    appendTo: 'prm-gallery-item-after',\r\n    enableInView: '.*'\r\n}","class BrowzineController {\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n    }\r\n\r\n    $onInit() {\r\n        let self = this;\r\n        let item = self.parentCtrl.parentCtrl.result;\r\n\r\n        self.recordid = '';\r\n\r\n        if (item && item.pnx && item.pnx.addata) {\r\n            self.recordid = item.pnx.control.recordid[0];\r\n        }\r\n\r\n        let browzineWatcher = self.$scope.$watch(() => {\r\n            return ((typeof browzine != \"undefined\") && (typeof browzine.primo === 'object'));            \r\n        }, (n, o) => {\r\n            if (n == true) {\r\n                console.log(\"trigger browzine for:\", self.recordid)\r\n                let scope = {\r\n                    $ctrl: self.parentCtrl\r\n                }\r\n                window.browzine.primo.searchResult(scope);\r\n                browzineWatcher();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n\r\nBrowzineController.$inject = ['$scope'];\r\n\r\nexport let browzineComponent = {\r\n    name: 'rzs-browzine',  \r\n    enabled: true,\r\n    appendTo: 'slsp-search-result-availability-line-after',\r\n    enableInView: '.*',\r\n    config:{    bindings: {\r\n        parentCtrl: '<'\r\n    },\r\n    controller: BrowzineController\r\n}\r\n}","class DotTestController {\r\n    constructor($ocLazyLoad,$injector) {\r\n        this.$ocLazyLoad = $ocLazyLoad;\r\n        this.$injector = $injector;\r\n    }\r\n\r\n    $onInit() {\r\n        console.log('constructor');\r\n    }\r\n}\r\n\r\nDotTestController.$inject = ['$ocLazyLoad','$injector']\r\n\r\nexport let dotTestComponent = {\r\n    name: 'dot-test',\r\n    config: {\r\n        bindings: {parentCtrl: '<'},\r\n        controller: DotTestController,\r\n        template: \"<div style='position:fixed;right: 0;top: 0;color:#009991;opacity:0.5;z-index: 100000;font-size: 10em;'>.</div>\"\r\n    },\r\n    enabled: false,\r\n    //appendTo: 'prm-top-bar-before',\r\n    appendTo: 'slsp-top-bar-before',\r\n    enableInView: '.*'\r\n}","/**\r\n* @ngdoc service\r\n* @key ethConfigService\r\n*\r\n* @description\r\n*\r\n* Service to get and handle informations from a module config:\r\n* - getLabel()\r\n* - getUrl()\r\n* - getLanguage()\r\n*\r\n */\r\nexport const ethConfigService = ['$rootScope', function ($rootScope) {\r\n\r\n        function getLanguage() {\r\n            try {\r\n                let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n                if (!sms) {\r\n                    console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\r\n                    return 'en';\r\n                }\r\n                else {\r\n                    return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\r\n                }\r\n            }\r\n            catch (e) {\r\n                console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\r\n                console.error(e.message);\r\n                return 'en';\r\n            }\r\n        }\r\n\r\n\r\n        function getLabel(config, key) {\r\n            try {\r\n                let lang = this.getLanguage();\r\n                if (!config.label[key]) {\r\n                    console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\r\n                    return key;\r\n                }\r\n                if (config.label[key][lang]) {\r\n                    return config.label[key][lang];\r\n                }\r\n                else {\r\n                    return config.label[key]['en'];\r\n                }\r\n            }\r\n            catch (e) {\r\n                console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\r\n                console.error(e.message);\r\n                return '';\r\n            }\r\n        }\r\n\r\n        function getUrl(config, key) {\r\n            try {\r\n                let lang = this.getLanguage();\r\n                if (!config.url[key]) {\r\n                    console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\r\n                    return '';\r\n                }\r\n                if (config.url[key][lang]) {\r\n                    return config.url[key][lang];\r\n                }\r\n                else {\r\n                    return config.url[key]['en'];\r\n                }\r\n            }\r\n            catch (e) {\r\n                console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\r\n                console.error(e.message);\r\n                return '';\r\n            }\r\n        }\r\n\r\n        return {\r\n            getLanguage: getLanguage,\r\n            getLabel: getLabel,\r\n            getUrl: getUrl\r\n        };\r\n    }];","export const ethJournalsStartpageConfig = function(){\r\n    return {\r\n        label: {\r\n            heading: {\r\n                de: 'Zeitschriftensuche Region Zentralschweiz',\r\n                en: 'Journal search of the Region of Central Switzerland (RZS)'\r\n            },\r\n            p1: {\r\n                de: 'Suche nach gedruckten und elektronischen Zeitschriften der Bibliotheken der Region Zentralschweiz. Achten Sie darauf, dass Sie sich für lizenzierte E-Journals im entsprechenden Netz (vor Ort oder per VPN) befinden.',\r\n                en: 'Search for printed and electronic journals of the libraries in the Central Switzerland region. Make sure that you are on the appropriate network (on site or via VPN) for licensed e-journals.'\r\n            },\r\n            p2: {\r\n                de: 'Bei Fragen wenden Sie sich an Ihre ',\r\n                en: 'If you have any questions, please contact your '\r\n            },\r\n            ill: {\r\n                de: 'Bibliothek',\r\n                en: 'library'\r\n            }\r\n\r\n        },\r\n        url:{\r\n            ill: {\r\n                de: 'https://www.rzsinfo.ch/bibliotheken',\r\n                en: 'https://www.rzsinfo.ch/bibliotheken'\r\n            }\r\n        }\r\n    }\r\n}\r\n","export const ethJournalsStartpageConfig = function(){\r\n    return {\r\n        label: {\r\n            heading: {\r\n                de: 'Zeitschriftensuche für Bestände an ETH Zürich',\r\n                en: 'Journal search for holdings at ETH Zurich'\r\n            },\r\n            p1: {\r\n                de: 'Mit der Zeitschriftensuche können Sie in den Zeitschriftenbeständen der Bibliotheken der ETH Zürich suchen – sowohl E-Journals wie auch gedruckte Zeitschriften.',\r\n                en: 'Using the journal search, you can search the journal holdings of the ETH Zurich libraries – both the e-journals and printed journals.'\r\n            },\r\n            h3: {\r\n                de: 'Finden Sie die gewünschte Zeitschrift nicht?',\r\n                en: 'Unable to find the journal you are looking for?'\r\n            },\r\n            option1a: {\r\n                de: 'Mitarbeitende der ETH:',\r\n                en: 'Employees of ETH Zurich:'\r\n            },\r\n            option1b: {\r\n                de: 'Bestellen Sie kostenlos via',\r\n                en: 'place an order free of charge via an'\r\n            },\r\n            option2a: {\r\n                de: 'ETH-Studierende:',\r\n                en: 'ETH Zurich students:'\r\n            },\r\n            option2b: {\r\n                de: 'Suchen Sie die Zeitschrift mit \"Neue Suche\" und bestellen Sie den Zeitschriftenband kostenlos an einen Abholort an der ETH oder kostenpflichtig Kopien daraus.',\r\n                en: 'search for the journal using \"New Search\" and have the bound volume sent free of charge to a pick-up location at ETH Zurich or have copies made of it for a fee and have them sent.'\r\n            },\r\n            option3a: {\r\n                de: 'Privatpersonen:',\r\n                en: 'Private individuals:'\r\n            },\r\n            option3b: {\r\n                de: 'Suchen Sie die Zeitschrift mit \"Neue Suche\" und bestellen Sie den Zeitschriftenband oder Kopien daraus kostenpflichtig bei einer anderen Bibliothek.',\r\n                en: 'search for the journal using \"New Search\" and order the bound volume from another library or have copies of it sent for a fee.'\r\n            },\r\n            option4a: {\r\n                de: 'Firmenkunden:',\r\n                en: 'Corporate clients:'\r\n            },\r\n            option4b: {\r\n                de: 'Bestellen Sie kostenpflichtig via',\r\n                en: 'order for a fee via an'\r\n            },\r\n            ill: {\r\n                de: 'Fernleihe',\r\n                en: 'interlibrary loan'\r\n            }\r\n        },\r\n        url:{\r\n            ill: {\r\n                de: 'https://documentation.library.ethz.ch/display/WWE/Fernleihe',\r\n                en: 'https://documentation.library.ethz.ch/display/WWE/Interlibrary+loan'\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class ethJournalsStartpageController {\r\n    constructor( ethConfigService, ethJournalsStartpageConfig ) {\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethJournalsStartpageConfig;\r\n    }\r\n}\r\nethJournalsStartpageController.$inject = [ 'ethConfigService', 'ethJournalsStartpageConfig' ];\r\n","\r\nimport {ethConfigService} from './eth-config.service.js';\r\nimport {ethJournalsStartpageConfig} from './eth-journals-startpage.config';\r\nimport {ethJournalsStartpageController} from './eth-journals-startpage.controller';\r\nimport ethJournalsStartpageHtml from './eth-journals-startpage.html';\r\n\r\nangular.module('ethJournalsStartpageModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethJournalsStartpageConfig', ethJournalsStartpageConfig)\r\n        .controller('ethJournalsStartpageController', ethJournalsStartpageController)\r\n        .component('ethJournalsStartpageComponent',{\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethJournalsStartpageController',\r\n            template: ethJournalsStartpageHtml\r\n        })\r\n","class JournalsStartPageController {\r\n    constructor() {\r\n    \r\n    }\r\n\r\n    $onInit() {\r\n      this.mainParentCtrl = this.parentCtrl;\r\n    }\r\n  }\r\n  \r\n  export let journalsStartPageComponent = {\r\n      name: 'rzs-journal-start-page',  \r\n      enabled: false,    \r\n      appendTo: 'prm-journals-after',\r\n      enableInView: '.*',  \r\n      config: {      \r\n        bindings: {parentCtrl: '<'},\r\n        controller: JournalsStartPageController,\r\n        template: '<eth-journals-startpage-component after-ctrl=\"$ctrl.mainParentCtrl\"></eth-journals-startpage-component>'\r\n      }\r\n    }\r\n  ","export {openHourComponent} from './openHour'\r\nexport {libInfoSeedComponent} from './seed'\r\nexport {libInfoComponent} from './info'","import infoHTML from './info.html';\r\nimport infoJSON from './libInfo.json';\r\nimport Record from '../../../primo/record';\r\n\r\nclass LibInfoController {\r\n    constructor($element, $scope, $translate) {\r\n      this.$element = $element;\r\n      this.$scope = $scope;\r\n      this.$translate = $translate;\r\n    }\r\n  \r\n    $onInit(){\r\n\r\n      let self = this;\r\n      self.libinfoService = infoJSON;   \r\n      \r\n      self.iconUrl = `custom/41SLSP_NETWORK-CENTRAL_PACKAGE/img/information.png`;    \r\n\r\n      self.$translate('nui.customizing.idslu.informationicon').then((iconUrl) => {\r\n        if (iconUrl !== 'informationicon') {\r\n          self.iconUrl = iconUrl;\r\n        }\r\n      }); \r\n\r\n    }\r\n\r\n\r\n    get info(){\r\n      let self = this;                    \r\n      if (Object.keys(self.libinfoService).includes(self.libCode)) {\r\n        return {id: self.libinfoService[self.libCode].url, name: self.libinfoService[self.libCode].label};\r\n      }\r\n      return {};\r\n    }\r\n  \r\n    get libid(){      \r\n      let id = this.info.id;\r\n      if (id) {\r\n        return id;\r\n      }\r\n      return '';\r\n    }\r\n    get libname(){\r\n      let name = this.info.name;\r\n      if (name) {\r\n        return name;\r\n      }\r\n      return '';\r\n    }\r\n\r\n    get libCode() {\r\n      let code = '';\r\n      let self = this;\r\n      switch (self.type) {\r\n        case 'library':\r\n          try {\r\n            code = Record.current.library.all[self.index].lib.split(':')[0];\r\n          } catch (e) {\r\n            code = ''\r\n          }\r\n          break;\r\n        case 'location':\r\n          try {\r\n            code = Record.current.location.all[self.index].loc.location.libraryCode;\r\n          } catch (e) {\r\n            code = ''\r\n          }\r\n          break;\r\n      }\r\n  \r\n      return code;\r\n    }    \r\n  \r\n  }\r\n  \r\n  LibInfoController.$inject = ['$element', '$scope', '$translate'];\r\n\r\n  export let libInfoComponent = {\r\n    name: 'rsz-lib-info',\r\n    config: {\r\n        bindings: { index: '@', type: '@', parentCtrl: '<'},\r\n        controller: LibInfoController,\r\n        template: infoHTML\r\n    },\r\n    enabled: false,\r\n    appendTo: null,\r\n    enableInView: '.*'    \r\n  }  ","import openhourHTML from './openhour.html';\r\nimport infoJSON from './library_info.json';\r\nimport Session from '../../../primo/session';\r\n\r\nclass OpenHourController {\r\n    constructor($element, $scope, $translate) {\r\n        let self = this;\r\n        self.element = $element;\r\n        self.scope = $scope;\r\n        self.translate = $translate;\r\n        self.libraryInfo = infoJSON;\r\n        self.showLib = false;\r\n    }\r\n\r\n    $onInit(){\r\n        let self = this;    \r\n        self.libraryInfo = infoJSON;               \r\n        self.location = self.parentCtrl.parentCtrl.loc.location;\r\n        \r\n    }\r\n\r\n    getInfo() {        \r\n        let self = this;\r\n        self.showLib = !self.showLib;\r\n        return self.library;\r\n    }\r\n\r\n    get mainLocation(){\r\n        let self = this;\r\n        return self.location.mainLocation;\r\n    }\r\n\r\n    get libraryCode() {\r\n        let self = this;\r\n        //return self.location.libraryCode;\r\n        return 'LUSBI';\r\n    }\r\n\r\n    get library() {\r\n        let self = this;\r\n        return self.libraryInfo.filter(f => f.code == self.libraryCode)?.[0]\r\n    }\r\n\r\n    weekdayText(day) {\r\n       let text = new Intl.DateTimeFormat(Session.view.interfaceLanguage, { weekday: \"long\" }).format(day.weekday);\r\n       return text.charAt(0).toUpperCase() + text.slice(1);\r\n    }\r\n}\r\n\r\n\r\nOpenHourController.$inject = ['$element', '$scope', '$translate'];\r\n\r\nexport let openHourComponent = {\r\n  name: 'rsz-open-hour',\r\n  config: {\r\n      bindings: { code: '@', parentCtrl: '<'},\r\n      controller: OpenHourController,\r\n      template: openhourHTML\r\n  },\r\n  enabled: false,\r\n  appendTo: 'slsp-location-items-after',\r\n  enableInView: '.*'    \r\n}  ","class LibInfoSeedController {\r\n    constructor($scope, $element, $compile, $timeout) {\r\n        let self = this;\r\n        let divs = $element.parent().parent().find('div')\r\n\r\n        self.element = $element;\r\n        self.scope = $scope;\r\n        self.compile = $compile;\r\n        self.timeout = $timeout;\r\n        self.parentEl = divs[0];\r\n\r\n    }\r\n  \r\n    #addLibraryInfo() {\r\n        let self = this;\r\n\r\n        let libraryElements = Primo.record.current.library.allAsElement;\r\n        if (libraryElements) {\r\n            libraryElements.forEach((el, i, a) => {\r\n                let selector = 'prm-stack-map';\r\n                //self.addChevron(el)\r\n                if (el.query(selector) && !el.query('rsz-lib-info')) {\r\n                    let libraryCode = Primo.record.current.library.all[i].lib.split(':')[0];\r\n                    self.addLibInfo(el.query(selector)[0], i, libraryCode, 'library');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    #addLocationInfo() {\r\n        let self = this;        \r\n        if (Primo.record.current.location.elementVisible()) {\r\n            let locationElements = Primo.record.current.location.allAsElement;\r\n            if (locationElements && (locationElements.length != document.querySelectorAll('prm-location rsz-lib-info').length)) {\r\n                locationElements.forEach((el, i, a) => {\r\n                    let selector = 'prm-stack-map';\r\n                    if (!el.query(selector)) {                        \r\n                        selector = 'div > div.layout-row > div';//fallback selector\r\n                    }\r\n\r\n                    if (el.query(selector) && !el.query('rsz-lib-info')) {\r\n                        let libraryCode = Primo.record.current.location.all[i].loc.location.libraryCode;\r\n                        self.addLibInfo(el.query(selector)[0], i, libraryCode, 'location');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    #addItemInfo() {\r\n        let self = this;\r\n        if (Primo.record.current.location.item.elementVisible()) {\r\n            if (Primo.record.current.location.item.allAsElement) {\r\n                Primo.record.current.location.item.allAsElement.forEach((el, i, a) => {                    \r\n                    let selector = 'prm-stack-map';\r\n                    if (!el.query(selector)) {\r\n                        selector = 'div > div.layout-row > div';//fallback selector\r\n                    }                    \r\n                    if (el.query(selector) && !el.query('rsz-lib-info')) {\r\n                        let libraryCode = Primo.record.current.location.item.all[i].loc.location.libraryCode;\r\n                        self.addLibInfo(el.query(selector)[0], i, libraryCode, 'location');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    $onInit() {\r\n        let self = this;\r\n        let libraryWatcher = self.scope.$watch(() => {\r\n            let el = document.querySelector('prm-library h3');\r\n            if (el) {\r\n                return !(window.getComputedStyle(el).visibility == 'hidden');\r\n            }\r\n            return false;\r\n        }, (n, o) => {\r\n            if (n == true) {\r\n                try {\r\n                    console.log(\"trigger libary for:\", Primo.record.current.library.allAsElement)\r\n\r\n                    Primo.record.current.library.allAsElement.map((m) => {\r\n                        if (m.query('rsz-lib-info')) {\r\n                            console.log(\"\\tUpdating current library\");\r\n                            m.query('rsz-lib-info')[0].remove()\r\n                        }\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n\r\n                self.timeout(() => self.#addLibraryInfo());\r\n                //libraryWatcher();\r\n            }\r\n        })\r\n\r\n\r\n        let locationWatcher = self.scope.$watch(() => {\r\n            let el = document.querySelector('prm-location h3');\r\n            if (el) {\r\n                return !(window.getComputedStyle(el).visibility == 'hidden' && el.length != document.querySelectorAll('prm-location rsz-lib-info'));\r\n            }\r\n\r\n            return false;\r\n        }, (n, o) => {\r\n            if (n == true) {\r\n                try {\r\n                    console.log(\"trigger location for:\", Primo.record.current.location.allAsElement)\r\n                    Primo.record.current.location.allAsElement.map((m) => {\r\n                        if (m.query('rsz-lib-info')) {\r\n                            console.log(\"\\tUpdating current location\");\r\n                            m.query('rsz-lib-info')[0].remove()\r\n                        }\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n\r\n                self.timeout(() => self.#addLocationInfo());\r\n                //locationWatcher();\r\n            }\r\n        })\r\n\r\n        let itemWatcher = self.scope.$watch(() => {\r\n            let el = document.querySelector('prm-location-items h4');\r\n            if (el) {\r\n                return !(window.getComputedStyle(el).visibility == 'hidden');\r\n            }\r\n\r\n            return false\r\n        }, (n, o) => {\r\n            if (n == true) {\r\n                try {\r\n                    console.log(\"trigger item for:\", Primo.record.current.location.item.allAsElement)\r\n                    Primo.record.current.location.item.allAsElement.map((m) => {\r\n                        if (m.query('rsz-lib-info')) {\r\n                            console.log(\"\\tUpdating current items\");\r\n                            m.query('rsz-lib-info')[0].remove()\r\n                        }\r\n                    })\r\n                } catch (e) {\r\n                    console.log(e);\r\n                }\r\n\r\n                self.timeout(() => self.#addItemInfo());\r\n                //itemWatcher();\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    addLibInfo(el, index, libraryCode, type) {\r\n        let self = this;\r\n        if (el && !el.querySelector('rsz-lib-info') && libraryCode) {\r\n            if (libraryCode != undefined) {\r\n                let elInfo = document.createElement('rsz-lib-info');\r\n                elInfo.setAttribute('code', libraryCode);\r\n                elInfo.setAttribute('index', index);\r\n                elInfo.setAttribute('type', type);\r\n\r\n                let $elInfo = angular.element(elInfo);\r\n                let compiledElInfo = self.compile($elInfo);\r\n\r\n                //add new scope\r\n                compiledElInfo(self.scope.$parent.$new());\r\n                el.append(elInfo);\r\n            }\r\n        }\r\n    }\r\n\r\n    addChevron(appendEl) {\r\n        let self = this;\r\n\r\n        if (!appendEl.query(\"prm-icon[name='chevron']\")) {\r\n            let el = document.createElement('prm-icon');\r\n            el.setAttribute('name', 'chevron');\r\n            el.setAttribute('icon-type', 'svg');\r\n            el.setAttribute('svg-icon-set', 'hardware');\r\n            el.setAttribute('icon-definition', 'ic_keyboard_arrow_right_24px');\r\n\r\n            //reference new element as an angularjs element\r\n            let $el = angular.element(el);\r\n            //compile \r\n            let compiledEl = self.compile($el);\r\n            //add new scope\r\n            compiledEl(self.scope.$parent.$new());\r\n            appendEl.query('div > div').append(el);\r\n        }\r\n    }\r\n}\r\n\r\nLibInfoSeedController.$inject = ['$scope', '$element', '$compile', '$timeout'];\r\n\r\nexport let libInfoSeedComponent = {\r\n    name: 'rsz-seed-lib-info',\r\n    config: {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: LibInfoSeedController,\r\n        template: ''\r\n    },\r\n    enabled: true,\r\n    appendTo: 'slsp-full-view-after',\r\n    enableInView: '.*'\r\n}","import linksContainerHTML from './linksContainer.html'\r\n\r\nexport let linksContainerEComponent = {\r\n  name: 'rzs-links-e-container',\r\n  config: {\r\n    template:linksContainerHTML\r\n  },\r\n  enabled: true,\r\n  appendTo: 'slsp-alma-viewit-items-after',\r\n  enableInView: '.*',\r\n}","import linkHMTL from './link.html'\r\nimport Session from '../../../primo/session';\r\n\r\nclass LinkController {\r\n  constructor() {        \r\n  }\r\n\r\n  $onInit() {\r\n    this.user();\r\n  }\r\n\r\n  async user() {\r\n    let self = this;\r\n    \r\n    let fines = await Session.user.fines;\r\n    self.isOnCampus = Session.user.isOnCampus;\r\n    self.isLoggedIn = Session.user.isLoggedIn;\r\n    self.allFines =  {      \r\n      count: fines.length,\r\n      sum: (fines ? fines.map(f => parseFloat(f.finesum)).reduce((p,c)=> p+c, 0) : 0)\r\n    }\r\n  }\r\n\r\n  get onCampus() {\r\n    return this.isOnCampus;\r\n  }\r\n\r\n  get loggedIn() {\r\n    return this.isLoggedIn;\r\n  }\r\n\r\n  get fines() {\r\n    return this.allFines;\r\n  }\r\n\r\n  get linkClass() {\r\n    return this.class || '';\r\n  }\r\n\r\n  get linkText() {\r\n    return this.text || '';\r\n  }\r\n\r\n  get linkUrl() {\r\n    return this.url || '';\r\n  }\r\n}\r\n\r\nexport let linksComponent = {\r\n  name: 'rzs-link',\r\n  config: {\r\n    bindings: { \r\n      class: '@',\r\n      text: '@',\r\n      url: '@'      \r\n     },\r\n    controller: LinkController,\r\n    template: linkHMTL\r\n  },\r\n  enabled: true,\r\n  appendTo: null,\r\n  enableInView: '.*'\r\n}","import linksContainerHTML from './linksContainer.html'\r\n\r\nexport let linksContainerPComponent = {\r\n  name: 'rzs-links-p-container',\r\n  config: {\r\n    template:linksContainerHTML\r\n  },\r\n  enabled: true,\r\n  /* appendTo: 'prm-opac-after', */\r\n  appendTo: 'slsp-opac-after',\r\n  enableInView: '.*',\r\n}","import Session from '../../primo/session'\r\nimport onCampusHTML from './onCampus.html'\r\n\r\nclass OnCampusController {\r\n    constructor() {              \r\n    }\r\n    \r\n    get onCampus() {\r\n      return Session.user.isOnCampus;\r\n    }\r\n\r\n    get offCampus() {\r\n      return !Session.user.isOnCampus;\r\n    }  \r\n}\r\n\r\nexport let onCampusComponent = {\r\n    name: 'rzs-on-campus',\r\n    config: {\r\n      controller: OnCampusController,\r\n      template: onCampusHTML\r\n    },\r\n    enabled: false,\r\n    appendTo: 'slsp-alma-viewit-after',\r\n    enableInView: '41SLSP_RZS:VU06|41SLSP_RZS:VU07'\r\n  }","class OpenUrlILLController {\r\n  constructor() {    \r\n  }\r\n\r\n  $onInit() {\r\n    this.mainParentCtrl = this.parentCtrl;\r\n  }\r\n}\r\n\r\nexport let rzsOpenUrlILLComponent = {\r\n    name: 'rzs-openurl-ill',  \r\n    enabled: true,    \r\n    appendTo: 'slsp-htgi-svc-after',\r\n    enableInView: '.*',  \r\n    config: {      \r\n      bindings: {parentCtrl: '<'},\r\n      controller: OpenUrlILLController,\r\n      template: '<eth-openurl-interlibrary-component after-ctrl=\"$ctrl.mainParentCtrl\"></eth-openurl-interlibrary-component>'\r\n    }\r\n  }\r\n","export const ethOpenurlInterlibraryConfig = function(){\r\n    return {\r\n        label: {\r\n            text:{\r\n                de: 'Artikel/Medium in Region Zentralschweiz RZS nicht vorhanden. <a href=\" https://swisscovery.slsp.ch/discovery/search?vid=41SLSP_NETWORK:VU1_UNION\" target=\"_blank\">Suche schweizweit in swisscovery</a> oder kontaktieren Sie ',\r\n                en: 'Article/medium not available in region Central Switzerland RZS. <a href=\" https://swisscovery.slsp.ch/discovery/search?vid=41SLSP_NETWORK:VU1_UNION&lang=en\" target=\"_blank\">Search Switzerland-wide</a> in swisscovery or contact '\r\n            },\r\n            linktext:{\r\n                de: 'Ihre Bibliothek.',\r\n                en: 'your library.'\r\n            }\r\n        },\r\n        url:{\r\n            link: {\r\n                de: 'https://www.rzsinfo.ch/bibliotheken',\r\n                en: 'https://www.rzsinfo.ch/bibliotheken'\r\n            }\r\n        }\r\n    }\r\n}\r\n","//import Record from '../../primo/record';\r\nimport Session from '../../../primo/session';\r\nimport openingHoursHTML from './openingHours.html';\r\n\r\nclass OpeningHoursController {\r\n    constructor($scope) {     \r\n        let self = this;    \r\n        self.scope = $scope;\r\n        self.locationCode = null;  // location code\r\n        self.data = {}; // loaded opening hours data\r\n        self.show = false; // show or hide details\r\n    }\r\n    \r\n    $onInit(){\r\n        let self = this; \r\n        //setup watcher and wait for a location to become visible\r\n        self.openingHoursWatcher = self.scope.$watch(() => {            \r\n            return Primo.record.current.location.item.elementVisible();\r\n        }, async (n, o) => {          \r\n            if (n == true) {\r\n                // load opening hours when location is visible on screen\r\n                await self.openingHours();\r\n            }\r\n        });        \r\n    }    \r\n\r\n    // is location visible on screen\r\n    get visible() {\r\n        return Primo.record.current.location.item.elementVisible()\r\n    }\r\n\r\n    // Primo language\r\n    get language() {\r\n        return Session.view.interfaceLanguage;\r\n    }\r\n\r\n    // Enable disable openening hours details\r\n    toggle() {\r\n        let self = this;\r\n        self.show = !self.show;\r\n        return self.show\r\n    }\r\n\r\n    // get a weekday label from a date\r\n    weekdayText(date) {\r\n        let self = this; \r\n        let text = new Intl.DateTimeFormat(self.language, { weekday: \"long\" }).format(new Date(date));\r\n        return text.charAt(0).toUpperCase() + text.slice(1);\r\n     }\r\n\r\n     // check if the library is open today\r\n     get isOpen() {\r\n        let self = this; \r\n        let weekday = new Date().getDay();\r\n        \r\n        return (self.hasData() && ((self.data.current[weekday].hours.length > 0) && (self.data.current[weekday].hours[0].open.length > 0)))\r\n     }\r\n\r\n     // check if data was loaded\r\n     hasData() {\r\n        let self = this; \r\n        return Object.keys(self.data).length > 0\r\n     }\r\n\r\n     // load opening hourse from service\r\n    async openingHours(){\r\n        let self = this; \r\n        if (Primo.record.current.location.item.elementVisible()) {\r\n            const location = Primo.record.current.location.item.current.loc.location;\r\n            const library = location.libraryCode;\r\n            const institution = location.organization;\r\n\r\n            if (location != self.locationCode) {\r\n                const response = await fetch(`https://services.libis.be/opening_hours/41SLSP/${institution}/${library}`, {headers: {Accept: 'application/json'}});        \r\n                \r\n                if (response.ok) {\r\n                    self.data = await response.json();    \r\n                } else {\r\n                    self.data = {};\r\n                }   \r\n            }\r\n            console.log(self.data);\r\n        }\r\n        \r\n        return self.data;\r\n    }\r\n}\r\n\r\nexport let openingHoursComponent = {\r\n    name: 'rzs-opening-hours',\r\n    config: {\r\n      bindings: { parentCtrl: '<' },\r\n      controller: OpeningHoursController,\r\n      template: openingHoursHTML\r\n    },\r\n    enabled: true,\r\n    appendTo: '',\r\n    enableInView: '.*'\r\n  }","export {openingHoursComponent} from './component'\r\nexport {openingHoursSeedComponent} from './seed'","class openingHoursSeedController {\r\n    constructor($scope, $element, $compile, $timeout) {\r\n        let self = this;\r\n        let divs = $element.parent().parent();\r\n\r\n        self.element = $element;\r\n        self.scope = $scope;\r\n        self.compile = $compile;\r\n        self.timeout = $timeout;\r\n        self.parentEl = divs[0];\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        let self = this;\r\n        let el = self.parentEl.querySelector('rzs-opening-hours');\r\n\r\n        if (!el) {\r\n            let target = self.element.parent().parent().parent().find('prm-location-holdings-after');\r\n            \r\n            if (target) {\r\n                let elInfo = document.createElement('rzs-opening-hours');\r\n                \r\n                let $elInfo = angular.element(elInfo);\r\n                let compiledElInfo = self.compile($elInfo);\r\n\r\n                //add new scope\r\n                compiledElInfo(self.scope.$parent.$new());\r\n                \r\n                if (Array.isArray(Array.from(target))) {\r\n                    target = target[0];\r\n                }\r\n                target.prepend(elInfo);            \r\n            }\r\n        }                \r\n    }\r\n}\r\n\r\nopeningHoursSeedController.$inject = ['$scope', '$element', '$compile', '$timeout'];\r\n\r\nexport let openingHoursSeedComponent = {\r\n    name: 'rsz-seed-opening-hours',\r\n    config: {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: openingHoursSeedController,\r\n        template: ''\r\n    },\r\n    enabled: true,\r\n    appendTo: 'slsp-location-items-after',\r\n    enableInView: '.*'\r\n}","import 'primo-explore-eth-person-card';\r\n\r\nclass PersonCardController {\r\n  constructor() {    \r\n  }\r\n\r\n  $onInit() {\r\n    this.mainParentCtrl = this.parentCtrl;\r\n  }\r\n}\r\n\r\nexport let rzsPersonCardComponent = {\r\n    name: 'rzs-person-card',  \r\n    enabled: true,\r\n    // appendTo: 'prm-service-details-after', 30.08.23\r\n    appendTo: 'slsp-service-details-after',\r\n    enableInView: '.*',  \r\n    config: {      \r\n      bindings: {parentCtrl: '<'},\r\n      controller: PersonCardController,\r\n      template: '<eth-person-card-component after-ctrl=\"$ctrl.mainParentCtrl\"></eth-person-card-component>'\r\n    }\r\n  }","class RequestMessageController {\r\n    constructor($element, $translate) {\r\n        this.element = $element[0];\r\n        this.translate = $translate;\r\n    }\r\n\r\n    $onInit() {\r\n        this.infoForm = angular.element(this.element.parentElement.parentElement.parentElement.parentElement).find('prm-request')[0];\r\n\r\n        //params with default values:\r\n        let params = { \"feesUrl\": \"https:\\/\\/slsp.ch\\/fees\", \"feesLinkText\": '', \"feesInfo\": \"\" };\r\n    }\r\n\r\n    get feesInfo() {\r\n        return this.translate.instant('customize.fullview.feesInfo');\r\n    }\r\n\r\n    get feesUrl() {\r\n        return this.translate.instant('customize.fullview.feesUrl');\r\n    }\r\n\r\n    get feesLinkText() {\r\n        return this.translate.instant('customize.fullview.feesLinkText');\r\n    }\r\n\r\n    //function for cloning info block into form\r\n    $doCheck() {\r\n        let form = false;\r\n        try {\r\n            if (this.infoForm.children[1].children[1] !== undefined) {\r\n                if (this.infoForm.children[1].children[1].children[0] !== undefined) {\r\n                    form = this.infoForm.children[1].children[1].children[0];\r\n                }\r\n            }\r\n            else if (this.infoForm.children[1].children[0] != undefined) {\r\n                form = this.infoForm.children[1].children[0].children[0];\r\n            }\r\n            if (form) {\r\n                if (form.children.length == 2) {\r\n                    //remove bracket info (=\"see below\") from request button:\r\n                    form.children[1].lastChild.firstChild.lastChild.innerHTML = form.children[1].lastChild.firstChild.lastChild.innerHTML.replace(/.\\(.*\\)/gi, '');\r\n                    //clone an insert info-block:\r\n\r\n                    let elem = document.createElement('span');\r\n                    elem.innerHTML = `\r\n<div class=\"courier-info bar alert-bar\">\r\n    <div class=\"info-text\">${this.feesInfo}</div>\r\n    <div class=\"fees-link\">\r\n        <a ng-href=\"${this.feesUrl}\" target=\"_blank\">${this.feesLinkText}</a>\r\n    </div>\r\n</div>`;\r\n                    form.insertBefore(elem, form.children[1]);\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n}\r\n\r\nRequestMessageController.$inject = ['$element', '$translate'];\r\n\r\nexport let requestMessagecomponent = {\r\n    name: 'rzs-request-message',\r\n    enabled: false,\r\n    appendTo: 'prm-request-services-after',\r\n    enableInView: '.*',\r\n    config: {\r\n        bindings: { parentCtrl: '<' },\r\n        controller: RequestMessageController,\r\n        template: ''\r\n    }\r\n}\r\n","import searchAlsoBodyHTML from './searchAlsoBody.html'\r\nimport Session from '../../primo/session';\r\n\r\nclass SearchAlsoBodyController {\r\n  constructor($location) {\r\n    this.location = $location;\r\n  }\r\n  \r\n  $onInit(){\r\n    let self = this;\r\n    self.viewCode = Session.view.code;\r\n    self.targets = self._targets();    \r\n  }\r\n\r\n  get search() {\r\n    return this.location.search().query || '';\r\n  }\r\n\r\n  get name() {\r\n    return this.parentCtrl.parentCtrl.facetGroup.name;\r\n  }\r\n\r\n  get parsedQuery() {\r\n    let query = this.search;\r\n    if (!Array.isArray(query)) {\r\n      query = [query]\r\n    }\r\n    return query.map(m => m.split(','));\r\n  }\r\n\r\n  get searchTerms() {    \r\n    let search = this.parsedQuery.map(m => `query=${m[0]},${m[1]},${m[2]}` || '').join('&');\r\n    if (this.parsedQuery.length > 1) {\r\n      search += '&mode=advanced';\r\n    }\r\n\r\n    return search;\r\n  }\r\n\r\n  _targets() {\r\n    let self = this;\r\n\r\n    return [\r\n      {\r\n        \"view\": \"41SLSP_RZS:VU15\",\r\n        \"name\": \"swisscovery RZS\",\r\n        \"url\": \"https://rzs.swisscovery.org/discovery/search?&tab=41SLSP_RZS_MyInst_and_CI&search_scope=MyInst_and_CI&vid=41SLSP_RZS:VU15&\",\r\n        \"img\": \"https://rzs.swisscovery.org/discovery/custom/41SLSP_RZS-VU15/img/vu15_favicon_32x32.png\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.swisscovery-rzs\",\r\n        mapping: function mapping(search) {\r\n          return self.searchTerms;\r\n        }\r\n      },\r\n      {\r\n        \"view\": \"41SLSP_RZS:VU06\",\r\n        \"name\": \"swisscovery RZS - HSLU\",\r\n        \"url\": \"https://rzs.swisscovery.org/discovery/search?&tab=41SLSP_RZS_MyInst_and_CI&search_scope=MyInst_and_CI&vid=41SLSP_RZS:VU06&\",\r\n        \"img\": \"https://rzs.swisscovery.org/discovery/custom/41SLSP_RZS-VU06/img/vu06_favicon_32x32.png\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.swisscovery-rzs-hslu\",\r\n        mapping: function mapping(search) {\r\n          return self.searchTerms;\r\n        }\r\n      },\r\n      {\r\n        \"view\": \"41SLSP_RZS:VU07\",\r\n        \"name\": \"swisscovery RZS - Uni/PH\",\r\n        \"url\": \"https://rzs.swisscovery.org/discovery/search?&tab=41SLSP_RZS_MyInst_and_CI&search_scope=MyInst_and_CI&vid=41SLSP_RZS:VU07&\",\r\n        \"img\": \"https://rzs.swisscovery.org/discovery/custom/41SLSP_RZS-VU07/img/vu07_favicon_32x32.png\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.swisscovery-rzs-zhbuniph\",\r\n        mapping: function mapping(search) {\r\n          return self.searchTerms;\r\n        }\r\n      }, {\r\n        \"view\": \"41SLSP_NETWORK:VU1_UNION\",\r\n        \"name\": \"swisscovery\",\r\n        \"url\": \"https://swisscovery.slsp.ch/discovery/search?&tab=41SLSP_NETWORK&search_scope=DN_and_CI&vid=41SLSP_NETWORK:VU1_UNION&\",\r\n        \"img\": \"https://swisscovery.slsp.ch/discovery/custom/41SLSP_RZS-VU15/img/slsp_favicon_weiss.png\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.swisscovery\",\r\n        mapping: function mapping(search) {\r\n          return self.searchTerms;\r\n        }\r\n      }, {\r\n        \"view\": \"*\",\r\n        \"name\": \"Google Scholar\",\r\n        \"url\": \"https://scholar.google.com/scholar?q=\",\r\n        \"img\": \"https://scholar.google.com/favicon.ico\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.google_scolar\",\r\n        mapping: function mapping(search) {\r\n          return self.parsedQuery[0][2];\r\n        }\r\n      }, {\r\n        \"view\": \"*\",\r\n        \"name\": \"Worldcat\",\r\n        \"url\": \"https://www.worldcat.org/search?q=\",\r\n        \"img\": \"https://rzs.swisscovery.org/discovery/custom/41SLSP_RZS-VU15/img/favicon_worldcat.png\",\r\n        \"tooltip\": \"nui.customizing.idslu.search_also.tooltip.worldcat\",\r\n        mapping: function mapping(search) {\r\n          var type_mappings = {\r\n            \"any\": \"kw\",\r\n            \"title\": \"ti\",\r\n            \"creator\": \"au\",\r\n            \"subject\": \"su\"\r\n          };\r\n\r\n          return self.parsedQuery.map(m => `${type_mappings[m[0]] || \"kw\"}:${m[2] || ''}`).join(' ');\r\n        }\r\n      }].filter(f => f.view != self.viewCode);\r\n  }\r\n}\r\n\r\nSearchAlsoBodyController.$inject = ['$location'];\r\n\r\n\r\nexport let searchAlsoBodyComponent = {\r\n  name: 'rzs-search-also-body',\r\n  config: {\r\n    bindings: { parentCtrl: '<' },\r\n    controller: SearchAlsoBodyController,\r\n    template: searchAlsoBodyHTML\r\n  },\r\n  enabled: true,\r\n  appendTo: 'slsp-facet-exact-after',\r\n  enableInView: '.*'\r\n}\r\n","//facets.facet.facet_search_also\r\nclass SearchAlsoController {\r\n    constructor($scope){\r\n      this.$scope = $scope;\r\n    }\r\n\r\n    $onInit(){      \r\n      let facetService = this.parentCtrl.parentCtrl.facetService;\r\n      let searchAsoWatcher = this.$scope.$watch(() => {        \r\n          return facetService.results;\r\n      }, (n,o) => {          \r\n          if (facetService.results.filter(f => {return f.name == 'search_also'}).length == 0) {                  \r\n            //BOTTOM\r\n            facetService.results.push({\r\n            //TOP \r\n            //facetService.results.unshift({\r\n              name: 'search_also',\r\n              displayedType: 'exact',\r\n              limitCount: 0,\r\n              facetGroupCollapsed: false,\r\n              values: undefined\r\n            });\r\n//            searchAsoWatcher();\r\n          }\r\n      });\r\n      \r\n    }\r\n  }\r\n  \r\n  SearchAlsoController.$inject = ['$scope'];\r\n  \r\n  \r\n  export let searchAlsoComponent = {\r\n    name: 'rzs-search-also',\r\n    config: {\r\n      bindings:{parentCtrl:'<'},\r\n      controller: SearchAlsoController\r\n    },\r\n    enabled: true,\r\n    appendTo: 'prm-facet-after',\r\n    enableInView: '.*'\r\n  }","import messageServiceHTML from './messageService.html'\r\n\r\nexport default class MessageService {\r\n  constructor($rootScope, $compile, $mdToast, $sce, $translate, $timeout) {\r\n    this.mdToast = $mdToast;\r\n    this.sce = $sce;\r\n    this.translate = $translate;\r\n    this.timeout = $timeout;\r\n    this.compile = $compile;\r\n    this.rootScope = $rootScope;\r\n  }\r\n\r\n  show(message = '', options = {}) {\r\n    let self = this;\r\n    let scope = options.scope || null;\r\n    let hideDelay = options.hideDelay || 0;\r\n    let action = options.action || null;\r\n    let actionLabel = options.actionLabel || 'unknown';\r\n\r\n    this.timeout(function() {\r\n      //debugger;\r\n      if (message.length == 0) {\r\n        // code table entries can not have empty descriptions.\r\n        // message <= 1 will not be displayed!!!!\r\n        let messageKey = 'nui.customizing.idslu.alertMessage';\r\n        \r\n        message = self.translate.instant(messageKey);        \r\n        message = (message == 'alertMessage' || message.length <= 1) ? '' : message;\r\n      }\r\n\r\n      if (message.length > 0) {\r\n        let toastConfig = {\r\n          parent: document.body,\r\n          controllerAs: 'ctrl',\r\n          controller: function() {\r\n            this.actionLabel = actionLabel;\r\n\r\n            this.onClose = () => {\r\n              self.mdToast.hide();\r\n            };\r\n\r\n            if (action) {\r\n              this.onAction = ($event = null) => {\r\n                 action.call(this);\r\n                 self.mdToast.hide();\r\n              }\r\n            }\r\n\r\n            if (scope) {\r\n              //this.message = self.sce.trustAsHtml(self.compile(`<span>${message}</span>`)(self.rootScope).html());\r\n              this.message = self.sce.trustAsHtml(self.compile(`<span>${message}</span>`)(scope).html());\r\n            } else {\r\n              this.message = self.sce.trustAsHtml(message);\r\n            }\r\n\r\n          },\r\n          template: messageServiceHTML,\r\n          position: 'top center',\r\n          hideDelay: hideDelay\r\n        }\r\n\r\n        self.mdToast.show(toastConfig);\r\n      } else {\r\n        console.log('No message to display');\r\n      }\r\n    }, 2000);\r\n  }\r\n\r\n}\r\n\r\nMessageService.$inject = ['$rootScope', '$compile', '$mdToast', '$sce', '$translate', '$timeout'];\r\n","/*\r\n    Primo component loader.\r\n    Will load all defined components in the src/components directory. \r\n\r\n    (c)2020 KULeuven/LIBIS \r\n    Mehmet Celik\r\n*/\r\n\r\nimport Components from './components/**/*'\r\n\r\nString.prototype.toCamelCase = function () {\r\n    return this.split('-').map((d, i, a) => i > 0 ? d.charAt(0).toUpperCase() + d.slice(1) : d).join('');\r\n}\r\n\r\nexport default class Loader {\r\n    constructor() {}\r\n\r\n    load(modType) {\r\n        this._injectComponentPlaceHoldersIntoAfterComponents(modType);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     **/\r\n    _importComponents() {\r\n        let components = [];\r\n        Object.keys(Components).forEach((component_def) => {\r\n            components.push(Components[component_def]);\r\n        });\r\n        return components.filter((component) => (component.enabled && new RegExp(component.enableInView).test(window.appConfig.vid)));\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     **/\r\n    _createComponents(modType) {\r\n        let components = this._importComponents();\r\n        let afterComponents = {};\r\n\r\n        //Create all components and determine in which after component these need to be\r\n        //injected\r\n        console.log('Loading components');\r\n        components.forEach((component) => {\r\n            console.log(component.name)\r\n\r\n            if (component.enabled) {\r\n                if (component.appendTo) {\r\n\r\n                    let elements = afterComponents[component.appendTo] || [];\r\n                    elements.push({\r\n                        'name': component.name,\r\n                        'enableInView': component.enableInView\r\n                    });\r\n                    if (Array.isArray(component.appendTo)) {\r\n                        component.appendTo.forEach(appendTo => {\r\n                            afterComponents[appendTo] = elements;\r\n                        });\r\n                    } else {\r\n                        afterComponents[component.appendTo] = elements;\r\n                    }\r\n                }\r\n                angular.module(modType).constant('afterComponents', afterComponents);\r\n                angular.module(modType).component(component.name.toCamelCase(), component.config);\r\n            }\r\n        });\r\n\r\n        return afterComponents;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * \r\n     **/\r\n    _injectComponentPlaceHoldersIntoAfterComponents(modType) {\r\n        let afterComponents = this._createComponents(modType);\r\n        //Inject place holders into the after components\r\n        Object.keys(afterComponents).forEach((component, i) => {\r\n            let subComponents = afterComponents[component];\r\n\r\n            angular.module(modType).component(component.toCamelCase(), {\r\n                bindings: {\r\n                    parentCtrl: '<'\r\n                },\r\n                template: subComponents.map(m => `<${m.name} parent-ctrl=\"$ctrl\"></${m.name}>`).join(\"\")\r\n            });\r\n        });\r\n    }\r\n}","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nangular.module('altmetric', ['ng','angularLoad']).run(['angularLoad',(angularLoad) => {\r\n    angularLoad.loadScript('https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js?' + Date.now()).then(function () {\r\n      console.log('altmerics.js loaded');\r\n    });\r\n}]);","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './almetric'\r\n\r\nexport default 'altmetric'","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nangular.module('bibtip', ['ng', 'angularLoad']).run(['angularLoad', '$rootScope', '$translate', (angularLoad, $rootScope, $translate) => {\r\n  let watcher = $rootScope.$watch(() => {\r\n    try {\r\n      if ($translate.instant(`nui.customization.bibTip`) == `nui.customization.bibTip`) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }, (n, o) => {\r\n    if (n == true) {\r\n      let bibTipURL = $translate.instant(`nui.customization.bibTip`);\r\n      angularLoad.loadScript(bibTipURL).then(function () {\r\n        console.log('bibtip.js loaded');\r\n      });\r\n      watcher();\r\n    }\r\n  });\r\n}]);\r\n\r\n","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './bibtip'\r\n\r\nexport default 'bibtip';","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nangular.module('browzine', ['angularLoad']).run(['angularLoad', '$rootScope', '$translate', (angularLoad, $rootScope, $translate) => {\r\n    let watcher = $rootScope.$watch(() => {\r\n        try {\r\n            if ($translate.instant('nui.customization.browzine.id') == 'nui.customization.browzine.id') {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }, (n, o) => {\r\n        if (n == true) {\r\n\r\n            let apiId = $translate.instant('nui.customization.browzine.id');\r\n            let apikey = $translate.instant('nui.customization.browzine.apikey');\r\n            let journal = $translate.instant('nui.customization.browzine.journal');\r\n            let issue = $translate.instant('nui.customization.browzine.issue');\r\n            let article = $translate.instant('nui.customization.browzine.article');\r\n            let downloadEnabled = $translate.instant('nui.customization.browzine.download_enable') == '1';\r\n            let download = $translate.instant('nui.customization.browzine.download');\r\n            let articlePDFDownloadViaUnpaywallText = $translate.instant('nui.customization.browzine.articlePDFDownloadViaUnpaywallText');\r\n            let articleLinkViaUnpaywallText = $translate.instant('nui.customization.browzine.articleLinkViaUnpaywallText');\r\n            let articleAcceptedManuscriptPDFViaUnpaywallText = $translate.instant('nui.customization.browzine.articleAcceptedManuscriptPDFViaUnpaywallText');\r\n            let articleAcceptedManuscriptArticleLinkViaUnpaywallText = $translate.instant('nui.customization.browzine.articleAcceptedManuscriptArticleLinkViaUnpaywallText');\r\n            \r\n            window.browzine = {\r\n              api: `https://public-api.thirdiron.com/public/v1/libraries/${apiId}`,\r\n              apiKey: apikey,\r\n              journalBrowZineWebLinkText: journal,\r\n              articleBrowZineWebLinkText: issue,\r\n              articlePDFDownloadLinkEnabled: downloadEnabled,\r\n              articlePDFDownloadLinkText: download,\r\n              articleLinkText: article,\r\n              articlePDFDownloadViaUnpaywallText: articlePDFDownloadViaUnpaywallText,\r\n              articleLinkViaUnpaywallText: articleLinkViaUnpaywallText,\r\n              articleAcceptedManuscriptPDFViaUnpaywallText: articleAcceptedManuscriptPDFViaUnpaywallText,\r\n              articleAcceptedManuscriptArticleLinkViaUnpaywallText: articleAcceptedManuscriptArticleLinkViaUnpaywallText\r\n            };\r\n\r\n            angularLoad.loadScript('https://s3.amazonaws.com/browzine-adapters/primo/browzine-primo-adapter.js').then(() => {\r\n                console.log('browzine-primo-adapter.js loaded');\r\n            });\r\n\r\n            watcher();\r\n        }\r\n\r\n    });\r\n}]);\r\n\r\n\r\n// .run(($translate, $rootScope, angularLoad) => {\r\n//     let watcher = $rootScope.$watch(() => {\r\n//       try {\r\n//         if ($translate.instant('nui.customization.browzine.id') == 'nui.customization.browzine.id') {\r\n//           return false;\r\n//         } else {\r\n//           return true;\r\n//         }\r\n//       } catch (e) {\r\n//         return false;\r\n//       }\r\n//     }, (n, o) => {\r\n//       if (n == true) {\r\n//         let apiId = $translate.instant('nui.customization.browzine.id');\r\n//         let apikey = $translate.instant('nui.customization.browzine.apikey');\r\n//         let journal = $translate.instant('nui.customization.browzine.journal');\r\n//         let issue = $translate.instant('nui.customization.browzine.issue');\r\n//         let downloadEnabled = $translate.instant('nui.customization.browzine.download_enable') == '1';\r\n//         let download = $translate.instant('nui.customization.browzine.download');\r\n\r\n//         window.browzine = {\r\n//           api: `https://public-api.thirdiron.com/public/v1/libraries/${apiId}`,\r\n//           apiKey: apikey,\r\n//           journalBrowZineWebLinkText: journal,\r\n//           articleBrowZineWebLinkText: issue,\r\n//           articlePDFDownloadLinkEnabled: downloadEnabled,\r\n//           articlePDFDownloadLinkText: download,\r\n//           articleLinkText: \"Read Article\",\r\n//           articlePDFDownloadViaUnpaywallText: \"Download PDF (via Unpaywall)\",\r\n//           articleLinkViaUnpaywallText: \"Read Article (via Unpaywall)\",\r\n//           articleAcceptedManuscriptPDFViaUnpaywallText: \"Download PDF (Accepted Manuscript via Unpaywall)\",\r\n//           articleAcceptedManuscriptArticleLinkViaUnpaywallText: \"Read Article (Accepted Manuscript via Unpaywall)\"\r\n//         };\r\n\r\n//         angularLoad.loadScript('https://s3.amazonaws.com/browzine-adapters/primo/browzine-primo-adapter.js').then(() => {\r\n//           console.log('browzine-primo-adapter.js loaded');\r\n//         });\r\n\r\n//         watcher();\r\n//       }\r\n//     });\r\n//   });","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './browzine'\r\n\r\nexport default 'browzine'","/*\r\n  KULeuven/LIBIS (c) 2023\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './matomo'\r\n\r\nexport default 'mamoto'","angular.module('matomo', ['angularLoad']).run(['angularLoad','$rootScope','$translate', function (angularLoad, $rootScope, $translate) {\r\n\r\n  let watcher = $rootScope.$watch(() => {\r\n    try {\r\n      if ($translate.instant(`nui.customization.analytics.matomo.${window.appConfig.vid}.id`) == `nui.customization.analytics.matomo.${window.appConfig.vid}.id`) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }, (n, o) => {\r\n    if (n == true) {\r\n      var matomoID = $translate.instant(`nui.customization.analytics.matomo.${window.appConfig.vid}.id`);\r\n      var matomoURL = $translate.instant(`nui.customization.analytics.matomo.${window.appConfig.vid}.url`);      \r\n      var _paq = window._paq = window._paq || [];\r\n\r\n      matomoURL = 'https://' + matomoURL + '/'; //Maybe put complete URL in labels\r\n\r\n      _paq.push(['trackPageView']);\r\n      _paq.push(['enableLinkTracking']);\r\n      _paq.push(['setTrackerUrl', `${matomoURL}matomo.php`]);\r\n      _paq.push(['setSiteId', matomoID]);\r\n\r\n      angularLoad.loadScript(`${matomoURL}matomo.js`).then(function () {\r\n        console.log('matomo.js loaded');\r\n      });      \r\n\r\n      watcher();      \r\n    }\r\n  });\r\n}]);\r\n\r\n","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './pubSubInterceptor';\r\n\r\nexport default 'pubSubInterceptor';","//Must be loaded first can't change order because of how babel-plugin-import-directory works.\r\nimport PrimoPubSub from '../pubSub';\r\nwindow.pubSub = new PrimoPubSub();\r\n","import './itempolicy';\r\n\r\nexport default 'itempolicy';","//http://localhost:8003/primaws/rest/priv/ILSServices/holdings/9336266850005505?record-institution=41SLSP_RZS&lang=de&lang=de\r\n\r\npubSub.subscribe('after-ILSServicesBaseURL', (reqRes) => {\r\n    reqRes.data.data.itemInfo.locations.forEach(location => {        \r\n        location.items.forEach(item => {item.itempolicy = item.itempolicy.replace(/^\\d* /,'')});        \r\n    });\r\n    return reqRes;    \r\n})","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nexport default class PrimoPubSub {\r\n    constructor() {\r\n        this.topics = {};\r\n        this.hOP = this.topics.hasOwnProperty;\r\n\r\n        this.isReady = false;\r\n        this.watcherId = this._watcher();                \r\n    }\r\n\r\n    _watcher(count=0) {\r\n        let self = this;\r\n        \r\n        setTimeout(() => {\r\n            try{\r\n                count++;\r\n                if (count > 10) {\r\n                    console.error('pubSub not ready');\r\n                    self.isReady = false;\r\n                    self.fireEvent('pubSubInterceptorsNOTReady', {});    \r\n                    clearTimeout(this.watcherId);\r\n                    return;\r\n                }\r\n\r\n//                if ( document.querySelector('primo-explore div.graphic') == null && Object.keys(this.restBaseURLs).length > 0 && (typeof this.translate) === 'function' ) {\r\n                if ( Object.keys(this.restBaseURLs).length > 0 ) {    \r\n                    console.log('pubSub is ready to load interceptors');\r\n                    self.isReady = true;\r\n                    self.fireEvent('pubSubInterceptorsReady', {});\r\n                    clearTimeout(this.watcherId);\r\n                } else {\r\n                    this.watcherId = self._watcher(count);\r\n                }\r\n            } catch(e){\r\n                console.log(e);                \r\n                this.watcherId = self._watcher(count);\r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    //* get all WebService base urls\r\n    get restBaseURLs() {\r\n        try {\r\n            let baseURLs=angular.element(document.querySelector('primo-explore')).injector().get('restBaseURLs');\r\n            baseURLs.fulldisplay = '/discovery/fulldisplay';\r\n            return baseURLs;\r\n        } catch (e) {\r\n            console.error('restBaseURLs: ', e);\r\n            return {};\r\n        }\r\n    }\r\n    \r\n\r\n    //* get translate function\r\n    get translate() {\r\n        try {\r\n            return angular.element(document.querySelector('primo-explore')).injector().get('$translate');\r\n        } catch (e) {\r\n            console.error('translate: ', e.message);\r\n            return {};\r\n        }\r\n    }\r\n\r\n    //* subscribe to a topic a restBaseURL\r\n    subscribe(topic, listener) {\r\n        try {            \r\n            if (!this.hOP.call(this.topics, topic)) this.topics[topic] = []; //init\r\n            let index = this.topics[topic].push(listener) - 1; //add\r\n\r\n            console.log('SUBSCRIBING to: \"%s\" with id \"%s\", topic has %d functions', topic, index, this.topics[topic].length)\r\n\r\n            return {\r\n                remove: function () {\r\n                    this.topics[topic].splice(index, 1); //delete\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error('subscribe: ', e.message);\r\n        }\r\n    }\r\n\r\n    get listEvents() {\r\n        try {\r\n            return Object.keys(this.restBaseURLs).map(m => `${m}Event`);\r\n        } catch (e) {\r\n            console.error('events: ', e.message);\r\n        }\r\n    }\r\n\r\n    get listBeforeTopics() {\r\n        try {\r\n            return Object.keys(this.restBaseURLs).map(m => `before-${m}`);\r\n        } catch (e) {\r\n            console.error('before-topics: ', e.message);\r\n        }        \r\n    }\r\n\r\n    get listAfterTopics() {\r\n        try {\r\n            return Object.keys(this.restBaseURLs).map(m => `after-${m}`);\r\n        } catch (e) {\r\n            console.error('after-topics: ', e.message);\r\n        }        \r\n    }\r\n\r\n\r\n    //* determine topic by URL\r\n    findTopicKeyByURLValue(v) {\r\n        try {\r\n            let urlV = new URL(v, window.location.origin);\r\n            //return Object.keys(this.restBaseURLs).find(k => this.restBaseURLs[k] === urlV.pathname);\r\n            return Object.keys(this.restBaseURLs).find(k => urlV.pathname.startsWith(this.restBaseURLs[k]) );\r\n        } catch (e) {\r\n            console.error('findTopicKeyByURLValue: ', e.message)\r\n            return undefined\r\n        }\r\n\r\n    }\r\n\r\n    delegateTopic(prefix, reqRes) {\r\n        try {            \r\n            let responseData = reqRes;\r\n            let topicName = this.findTopicKeyByURLValue(reqRes.url || reqRes.config.url);            \r\n            if (topicName) {                \r\n                let delegateTopic = `${prefix}-${topicName}`;\r\n                if (this.hOP.call(this.topics, delegateTopic)) {                    \r\n                    this.topics[delegateTopic].forEach(subscription => {\r\n                        let newReqRes = subscription(reqRes);\r\n                        responseData = newReqRes != undefined ? newReqRes : reqRes\r\n                    });\r\n                }\r\n            }\r\n            return responseData;\r\n        } catch (e) {\r\n            console.error('delegateTopic: ', reqRes.url || reqRes.config.url, e.message);            \r\n            return reqRes;\r\n        }\r\n    }\r\n\r\n    fireEvent(url, data) {\r\n        try {\r\n            switch(url) {\r\n                case 'pubSubInterceptorsReady':\r\n                    let event = new CustomEvent(url, { detail: data, bubbles: true, cancelable: true, composed: false });\r\n                    document.dispatchEvent(event);\r\n                default:                                     \r\n                    let topicName = this.findTopicKeyByURLValue(url);\r\n                    if (topicName) {\r\n                        let eventName = `${topicName}Event`;\r\n                        let event = new CustomEvent(eventName, { detail: data, bubbles: true, cancelable: true, composed: false });\r\n                        document.dispatchEvent(event);\r\n                    } else if (/\\.local$/.test(url)) {                        \r\n                        let event = new CustomEvent(url, { detail: data, bubbles: true, cancelable: true, composed: false });\r\n                        document.dispatchEvent(event);\r\n                    }\r\n\r\n            }\r\n\r\n\r\n        } catch (e) {\r\n            console.error('fireEvent: ',url,  e.message);\r\n        }\r\n    }\r\n}    ","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\n// import PrimoPubSub from './pubSub';\r\n// window.pubSub = new PrimoPubSub();\r\n\r\nimport interceptors from './interceptors/**/*';\r\n\r\nangular.module('pubSubInterceptor', ['ng'])\r\n    .config(['$httpProvider', ($httpProvider) => {\r\n        $httpProvider.interceptors.push(['$q', ($q) => {\r\n            return {\r\n                'request': (request) => {                                                            \r\n                    request = pubSub.delegateTopic('before', request);\r\n\r\n                    pubSub.fireEvent(request.url, request);                                        \r\n                    return request;\r\n                },\r\n                'requestError': (request) => {                    \r\n                    return $q.reject(request)\r\n                },\r\n                'responseError': (response) => {                    \r\n                    return $q.reject(response)\r\n                },\r\n                'response': (response) => {                    \r\n                    response = pubSub.delegateTopic('after', response);\r\n                    pubSub.fireEvent(response.config.url, response.data);\r\n                    \r\n                    return response\r\n                }\r\n            }\r\n        }]);        \r\n    }]);","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nimport './remoteUrl'\r\n\r\nexport default 'remoteUrl'","/*\r\n  KULeuven/LIBIS (c) 2022\r\n  Mehmet Celik mehmet(dot)celik(at)kuleuven(dot)be\r\n*/\r\nangular.module('remoteUrl', []).config([\"$sceDelegateProvider\", ($sceDelegateProvider) => {\r\n    $sceDelegateProvider.resourceUrlWhitelist([\r\n      '**'\r\n    ]);\r\n  }]);","\r\nimport Components from '../components'\r\n\r\nexport default class Common {\r\n    /**\r\n     * Helper class points to primo-explore element\r\n     * \r\n     * @returns object\r\n     */\r\n    static get app() {\r\n        let element = Components.element('primo-explore')\r\n        if (element && element.length == 1) {\r\n            return element[0];\r\n        }\r\n        return element;        \r\n    }\r\n\r\n\r\n    static get injector() {\r\n        let app = this.app;\r\n    \r\n        if (app) {\r\n          let injector = angular.element(app).injector();\r\n          if (injector) {\r\n            return injector;\r\n          }\r\n        }\r\n    \r\n        return null;\r\n      }\r\n\r\n    /**\r\n     * Helper class points to controller of element primo-explore\r\n     * \r\n     * @returns object\r\n     */\r\n    static get appCtrl() {\r\n        let controller = Components.controller('primo-explore');\r\n        if (controller && controller.length == 1) {\r\n            return controller[0];\r\n        }\r\n        return controller;        \r\n    }\r\n\r\n    /** \r\n     * Helper points to userSessionManagerService\r\n     * \r\n     * @returns object \r\n     */\r\n    static get userSession() {\r\n        return this.appCtrl.userSessionManagerService;        \r\n    }\r\n\r\n    /**\r\n     * Helper points to decoded JWT token\r\n     * \r\n     * @returns object\r\n     */\r\n    static get jwt() {        \r\n        return this.userSession.jwtUtilService.getDecodedToken();\r\n    }\r\n\r\n    /**\r\n     * Interface to components\r\n     * \r\n     * @returns Components class\r\n     */\r\n    static get components() {\r\n        return Components;\r\n    }\r\n\r\n    /**\r\n     * Is the current page a full view page. \r\n     * This happens when you load a full view page url directly.\r\n     * \r\n     * @returns boolean\r\n     */\r\n    static isFullView() {        \r\n        try {\r\n            return this.components.controller('prm-full-view-page') == null ? false : true            \r\n        } catch(e){\r\n            return false;\r\n        }        \r\n    }    \r\n\r\n    /**\r\n     * Is the current page a full view page overlayed on top of the result set\r\n     * \r\n     * @returns boolean     \r\n     */\r\n    static isFullViewOverlay() {\r\n        try {\r\n            return this.components.controller('prm-full-view') && !this.components.controller('prm-full-view-page') ? true :false\r\n        } catch(e){\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * shortcut to facet service\r\n     * \r\n     * @returns object\r\n     */\r\n    static get facetService() {\r\n        try {\r\n            return Common.components.controller('prm-facet')[0].facetService\r\n        } catch(e){            \r\n            return {results:[]}\r\n        }\r\n    }\r\n\r\n    static get restBaseURLs() {\r\n        return this.injector.get('restBaseURLs')\r\n      }\r\n\r\n      static get http() {\r\n        let injector = this.injector;\r\n        if (injector) {\r\n          let h = injector.get('$http');\r\n          if (h) {\r\n            return h;\r\n          }\r\n        }\r\n    \r\n        return null;\r\n      }      \r\n}","export default class Component {\r\n    /**\r\n     * Get a List of all components\r\n     * \r\n     * @returns [component]\r\n     */\r\n    static get list() {\r\n        let tags = document.getElementsByTagName('*');\r\n        let components = [];\r\n        for (let tag of tags) {\r\n            let tagName = tag.localName;\r\n            if (/^prm-|primo-|rzs-|slsp-/.test(tagName)) {\r\n                let component = { name: tagName, obj: angular.element(tag) };\r\n                components.push(component);\r\n            }\r\n        }\r\n        return components;\r\n    }\r\n\r\n    /**\r\n     * Get component as an element\r\n     * \r\n     * @param {string} componentName - name of the component \r\n     * @returns component element\r\n     */\r\n    static element(componentName) {\r\n        let el = this.list.filter((f) => f.name === componentName).map((m) => angular.element(m.obj[0]))\r\n        if (el && el.length > 0) {\r\n            return el;\r\n            //return el.length == 1 ? el[0] : el;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get scope of component\r\n     * \r\n     * @param {string} componentName - name of the component\r\n     * @returns scope of component\r\n     */\r\n    static scope(componentName) {\r\n        return this.element(componentName).map(m => m.scope());\r\n    }\r\n\r\n    /**\r\n     * Get controller of component\r\n     * \r\n     * @param {string} componentName - name of the component\r\n     * @returns controller of component\r\n     */\r\n    static controller(componentName) {                \r\n        let controllers = this.list.filter((f) => f.name === componentName).map((m) => angular.element(m.obj).controller(componentName));\r\n        if (controllers.length > 0) {\r\n            return controllers;\r\n            //return controllers.length == 1 ? controllers[0] : controllers;\r\n        }\r\n        return null;        \r\n    }\r\n\r\n    /**\r\n     * Get a component by name. \r\n     * Difference with .element(componentName)\r\n     *      This method returns a DOM the latter an angular.element object\r\n     * \r\n     * @param {string} componentName - name of the component\r\n     * @returns component\r\n     */    \r\n    static get(componentName) {\r\n        return this.list.filter((f) => componentName === f.name).map(m => m.obj[0]);\r\n    }\r\n}","import Common from '../common'\r\n\r\nexport default class Facet {\r\n    static get all() {\r\n        try {\r\n            return Common.facetService.results\r\n        } catch (e) {\r\n            console.error(e)\r\n            return [];\r\n        }\r\n    }\r\n}","import PrimoSession from './session';\r\nimport PrimoComponents from './components';\r\nimport PrimoRecord from './record';\r\nimport PrimoFacet from './facet';\r\nimport PrimoCommon from './common';\r\nimport PrimoState from './state';\r\n\r\nwindow.Primo = {\r\n    session: PrimoSession, \r\n    components: PrimoComponents,\r\n    record: PrimoRecord,\r\n    facet: PrimoFacet,    \r\n    common: PrimoCommon,\r\n    state: PrimoState,\r\n    version:  (() => {\r\n        let version = \"0.0.3\";\r\n        return `Library:${version} - ALMA:${window.appConfig['system-configuration'].Alma_Version}`;\r\n    })()\r\n\r\n};","import Common from '../common'\r\n\r\nexport default class Library {\r\n    /**\r\n     * Get access to all libraries controllers of a record in view\r\n     * \r\n     * @returns object\r\n     */\r\n    static get all() {\r\n        try {\r\n            return Common.components.controller('prm-library')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get access to all libraries elements of a record in view\r\n     * \r\n     * @returns object\r\n     */\r\n\r\n    static get allAsElement() {\r\n        try {\r\n            return Common.components.element('prm-library')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static elementVisible() {\r\n        if (Common.components.get('prm-library').length > 0) {\r\n            return !(window.getComputedStyle(Common.components.get('prm-library')[0]).visibility == 'hidden')\r\n        }\r\n        return false;\r\n    }\r\n}","import Common from '../common'\r\n\r\nclass LocationItem {\r\n    /**\r\n     * Get access to all items controllers of a record in view\r\n     * \r\n     * @returns object\r\n     */\r\n    static get all() {\r\n        try {\r\n            return Common.components.controller('prm-location-items')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }        \r\n    }\r\n\r\n    /**\r\n     * returns item object elements instead of controller\r\n     * usefull when HTML needs to be changed\r\n     * \r\n     * @returns object\r\n     */\r\n    static get allAsElement() {\r\n        try {\r\n            return Common.components.element('prm-location-items')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * returns item object \r\n     * \r\n     * @returns object\r\n     */\r\n    static get current() {\r\n        try {\r\n            if (this.elementVisible()) {\r\n                return Common.components.controller('prm-location-items')[0];\r\n            }\r\n            return null;\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n    static elementVisible() {\r\n        if (Common.components.get('prm-location-items').length > 0) {\r\n            return !(window.getComputedStyle(Common.components.get('prm-location-items')[0]).visibility == 'hidden')\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport default class Location {\r\n    /**\r\n     * Get access to all location controllers of a record in view\r\n     * \r\n     * @returns object\r\n     */\r\n    static get all() {\r\n        try {\r\n            return Common.components.controller('prm-location')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * returns location object on items page\r\n     * \r\n     * @returns object\r\n     */\r\n    static get current() {\r\n        try {\r\n            if (this.elementVisible()) {\r\n                return Common.components.controller('prm-location')[0];\r\n            }\r\n            return null;\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * returns location object elements instead of controller\r\n     * usefull when HTML needs to be changed\r\n     * \r\n     * @returns object\r\n     */\r\n    static get allAsElement() {\r\n        try {\r\n            return Common.components.element('prm-location')\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    static get item() { return LocationItem }\r\n\r\n    static elementVisible() {\r\n        if (Common.components.get('prm-location').length > 0) {\r\n            return !(window.getComputedStyle(Common.components.get('prm-location')[0]).visibility == 'hidden')\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","import Common from '../common'\r\nimport Location from '../location';\r\nimport Library from '../library';\r\nimport Session from '../session';\r\n\r\n/**\r\n * Helper class to access record currently in full view\r\n */\r\nclass CurrentRecord {\r\n    static get record() {\r\n        try {\r\n            if (Common.isFullViewOverlay()) {\r\n                return Common.components.controller('prm-full-view')[0].item;\r\n            } else if (Common.isFullView()){\r\n                return Common.components.controller('prm-full-view-page')[0].currentItem;\r\n            } else {\r\n                return Common.userSession.searchStateService.resultObject.data[0];\r\n            }\r\n            return null;\r\n        } catch (e) {\r\n            console.error(e)\r\n            return null;\r\n        }        \r\n\r\n    }\r\n    static get location() { return Location}\r\n    static get library() {return Library}\r\n    static get source() {\r\n        let that = this;\r\n        let load = async (recordId) => {\r\n            let text = await (await fetch(`${Common.restBaseURLs.sourceRecord}?docId=${recordId}&vid=${Session.view.code}`)).text();\r\n            return text;\r\n        };\r\n\r\n        return ( async () => {return await load(that.record.pnx.control.recordid[0])})();       \r\n    }\r\n    static get showSource() {\r\n        let that = this;\r\n        return ( async () => {            \r\n            let d = document.createElement('dialog');\r\n            d.style.height='100vh';\r\n            d.style.width='100vw';\r\n            d.id = 'sourceRecord';\r\n                                \r\n            d.innerHTML = `\r\n            <textarea style='width:100%;height:90%'>${await that.source}</textarea>\r\n            <form method=\"dialog\">\r\n              <button formmethod=\"dialog\" onclick='javascript:Array.from(document.querySelectorAll(\"#sourceRecord\")).map(m => m.remove())'>close</button>\r\n            </form>`;  \r\n            document.body.appendChild(d);\r\n            d.showModal();\r\n        })();            \r\n    }\r\n}\r\n\r\nexport default class Record {\r\n    /**\r\n     * Get all records\r\n     * \r\n     * @returns records\r\n     */\r\n    static get all() {\r\n        try {\r\n            if (Common.isFullView()) {\r\n                [Common.components.controller('prm-full-view-page')[0].fullViewPageService.currentItem];\r\n            } else {\r\n                return Common.userSession.searchStateService.resultObject.data;\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get current record, location and library\r\n     */\r\n    static get current() {\r\n        return CurrentRecord;\r\n    }\r\n}\r\n","import Common from '../common'\r\n\r\nexport default class Session {\r\n    /**\r\n     * User object\r\n     */\r\n    static get user() {            \r\n        let isLoggedIn = Common.jwt.signedIn == null ? false : true;\r\n        let onCampus = Common.jwt.onCampus == 'false' ? false : true;\r\n\r\n          let userFines = [];\r\n          if (!Primo.state.get('finesLoading')) {\r\n            userFines = (async () => {return await this.#userFines()})();\r\n          }\r\n\r\n        return {            \r\n            email: Common.jwt.email || '',            \r\n            display_name: Common.userSession.getUserNameForDisplay(),\r\n            user_name: Common.jwt.userName,\r\n            isLoggedIn: isLoggedIn,\r\n            isOnCampus: onCampus,\r\n            fines: userFines\r\n        };\r\n    }\r\n\r\n    /**\r\n     * View object\r\n     */\r\n    static get view() {\r\n        return {\r\n            code: Common.appCtrl.viewId || window.appConfig['vid'],\r\n            institution: {\r\n                code: Common.userSession.inst,\r\n                name: window.appConfig['primo-view']['attributes-map'].institution\r\n            },\r\n            interfaceLanguage: Common.userSession.getUserLanguage() || window.appConfig['primo-view']['attributes-map'].interfaceLanguage,\r\n            ip: (Common.userSession.ip || Common.jwt.userIp)            \r\n        }\r\n    }\r\n\r\n    static async #userFines() {      \r\n      Primo.state.set('finesLoading', true);\r\n        let userFines = await Common.http.get(`${Common.restBaseURLs.myAccountBaseURL}/fines`);\r\n    \r\n        try {\r\n          let data = userFines.data;\r\n          if (data.status == 'ok') {\r\n            let fines = data.data.fines;\r\n            Primo.state.set('fines', fines.fine);            \r\n            return fines.fine;\r\n          } else {\r\n            console.log('No fines');\r\n            Primo.state.set('fines', []);\r\n            return [];\r\n          }\r\n        }\r\n        catch (error) {\r\n          Primo.state.set('fines', []);\r\n          return [];\r\n        }\r\n      }\r\n\r\n}","let instance;\r\nlet globalState = {};\r\n\r\nclass State {\r\n    constructor() {\r\n        if (instance) {\r\n            throw new Error(\"State is a singleton\")\r\n        }\r\n        \r\n        instance = this;\r\n    }\r\n\r\n    get(state) {\r\n        if (Object.keys(globalState).includes(state)) {\r\n            return globalState[state]                \r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    set(state, value) {\r\n        globalState[state] = value;\r\n    }\r\n}\r\nlet stateInstance = Object.freeze(new State());\r\n\r\nexport default stateInstance;","export const ethOpenurlInterlibraryConfig = function(){\r\n    return {\r\n        label: {\r\n            text:{\r\n                de: 'Artikel/Medium in Region Zentralschweiz RZS nicht vorhanden. <a href=\" https://swisscovery.slsp.ch/discovery/search?vid=41SLSP_NETWORK:VU1_UNION\" target=\"_blank\">Suche schweizweit in swisscovery</a> oder kontaktieren Sie ',\r\n                en: 'Article/medium not available in region Central Switzerland RZS. <a href=\" https://swisscovery.slsp.ch/discovery/search?vid=41SLSP_NETWORK:VU1_UNION&lang=en\" target=\"_blank\">Search Switzerland-wide</a> in swisscovery or contact '\r\n            },\r\n            linktext:{\r\n                de: 'Ihre Bibliothek.',\r\n                en: 'your library.'\r\n            }\r\n        },\r\n        url:{\r\n            link: {\r\n                de: 'https://www.rzsinfo.ch/bibliotheken',\r\n                en: 'https://www.rzsinfo.ch/bibliotheken'\r\n            }\r\n        }\r\n    }\r\n}\r\n","// Module\nvar code = \"<div ng-if=\\\"$ctrl.openurl\\\" class=\\\"layout-row eth-ill-container\\\">\\r\\n    <div class=\\\"eth-ill\\\">\\r\\n        <span ng-bind-html=\\\"::$ctrl.ethConfigService.getLabel($ctrl.config, 'text')\\\"></span>\\r\\n        <a href=\\\"{{::$ctrl.ethConfigService.getUrl($ctrl.config, 'link')}}{{$ctrl.qs}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n            <span>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linktext')}}</span>\\r\\n            <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n        </a>        \\r\\n    </div>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<div ng-if=\\\"$ctrl.persons\\\">\\r\\n    <div ng-repeat=\\\"person in $ctrl.persons\\\" ng-if=\\\"(person.entityfacts && person.entityfacts.preferredName) || (person.wiki && person.wiki.links) || (person.metagridLinks && person.metagridLinks.length > 0) || (person.findbuchLinks && person.findbuchLinks.length > 0)\\\">\\r\\n        <a class=\\\"eth-personcard-anchor\\\" name=\\\"personcard{{person.gnd}}-anchor\\\"></a>\\r\\n        <div id=\\\"personcard{{person.gnd}}\\\" class=\\\"eth-person__facts\\\" ng-if=\\\"(person.entityfacts && person.entityfacts.preferredName) || (person.wiki && person.wiki.label)\\\" aria-live=\\\"polite\\\">\\r\\n            <md-card>\\r\\n                <md-card-title class=\\\"eth-person__facts-title\\\">\\r\\n                  <md-card-title-text>\\r\\n                    <h2>\\r\\n                        <span ng-if=\\\"person.entityfacts.preferredName\\\" class=\\\"md-headline\\\">{{person.entityfacts.preferredName}}:</span>\\r\\n                        <span ng-if=\\\"!person.entityfacts.preferredName && person.wiki.label\\\" class=\\\"md-headline\\\">{{person.wiki.label}}:</span>\\r\\n                        <span class=\\\"md-headline\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'moreInformations')}}</span>\\r\\n                    </h2>\\r\\n                  </md-card-title-text>\\r\\n                </md-card-title>\\r\\n                <div class=\\\"eth-person__facts-content\\\" layout=\\\"row\\\" layout-xs=\\\"column\\\">\\r\\n                    <md-button class=\\\"eth-personcard__close md-primary\\\" ng-click=\\\"$ctrl.toggleCard(person.gnd)\\\">\\r\\n                        <span class=\\\"accessible-only\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'closePersonCard')}}</span>\\r\\n                    </md-button>\\r\\n                    <div ng-if=\\\"person.entityfacts.depiction\\\" class=\\\"eth-person__image-container\\\">\\r\\n                        <img class=\\\"eth-person__image\\\" ng-src=\\\"{{person.entityfacts.depiction.thumbnail['@id']}}\\\" alt=\\\"{{person.entityfacts.preferredName}}\\\">\\r\\n                    </div>\\r\\n                    <div ng-if=\\\"!person.entityfacts.depiction && person.wiki.image_url\\\" class=\\\"eth-person__image-container\\\">\\r\\n                        <img class=\\\"eth-person__image\\\" ng-src=\\\"{{person.wiki.image_url}}\\\" alt=\\\"{{person.wiki.label}}\\\">\\r\\n                    </div>\\r\\n                    <div class=\\\"eth-person__facts-text\\\">\\r\\n                        <md-card-content>\\r\\n                            <h3 class=\\\"md-subhead eth-person__subhead eth-person__subhead-first\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'infoGndWd')}}</h3>\\r\\n                            <p ng-if=\\\"person.entityfacts.professionOrOccupation\\\">{{person.entityfacts.professionOrOccupation}}</p>\\r\\n                            <p ng-if=\\\"person.wiki.description\\\">{{person.wiki.description}}</p>\\r\\n                            <p ng-if=\\\"person.entityfacts.dateOfBirth\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'born')}}: {{person.entityfacts.dateOfBirth}}<span ng-if=\\\"person.entityfacts.placeOfBirth\\\">, {{person.entityfacts.placeOfBirth}}</span></p>\\r\\n                            <p ng-if=\\\"person.entityfacts.dateOfDeath\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'died')}}: {{person.entityfacts.dateOfDeath}}<span ng-if=\\\"person.entityfacts.placeOfDeath\\\">, {{person.entityfacts.placeOfDeath}}</span></p>\\r\\n                            <p ng-if=\\\"person.entityfacts.biographicalOrHistoricalInformation\\\">{{person.entityfacts.biographicalOrHistoricalInformation}}</p>\\r\\n                            <p ng-if=\\\"person.entityfacts.depiction || person.wiki.image_url\\\"><span>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'imgLicense')}}</span> <a target=\\\"_blank\\\" ng-href=\\\"{{person.entityfacts.depiction.url}}\\\">\\r\\n                                Wikimedia Commons\\r\\n                                <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                            </a>.</p>\\r\\n                        </md-card-content>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </md-card>\\r\\n\\r\\n            <div ng-if=\\\"person.wikiArchivesAtLinks && person.wikiArchivesAtLinks.length > 0\\\">\\r\\n                <h3 class=\\\"md-subhead eth-person__subhead\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'archiveLinks')}}</h3>\\r\\n                <p ng-repeat=\\\"link in person.wikiArchivesAtLinks\\\">\\r\\n                    <a ng-if=\\\"link.url\\\" class=\\\"arrow-link md-primoExplore-theme\\\" ng-href=\\\"{{link.url}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n                        <span ng-if=\\\"link.label\\\">{{link.label}}</span><span ng-if=\\\"link.inventoryno\\\"> (Inventarnummer: {{link.inventoryno}})</span>\\r\\n                        <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                        <prm-icon link-arrow external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n                    </a>\\r\\n                    <span ng-if=\\\"!link.url\\\">\\r\\n                        <span>{{link.label}}</span>\\r\\n                        <span ng-if=\\\"object.inventoryno\\\"> (Inventarnummer: {{link.inventoryno}})</span>\\r\\n                    </span>\\r\\n                </p>\\r\\n            </div>\\r\\n            <div ng-if=\\\"person.wiki && person.wiki.links && person.wiki.links.length > 0\\\">\\r\\n                <h3 class=\\\"md-subhead eth-person__subhead\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksWD')}}</h3>\\r\\n                <p ng-repeat=\\\"link in person.wiki.links\\\"><a class=\\\"arrow-link md-primoExplore-theme\\\" ng-href=\\\"{{link.url}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n                    <span>{{link.label}}</span>\\r\\n                    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    <prm-icon link-arrow external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n                </a></p>\\r\\n            </div>\\r\\n            <div ng-if=\\\"person.wiki && person.wiki.profiles && person.wiki.profiles.length > 0\\\">\\r\\n                <h3 class=\\\"md-subhead eth-person__subhead\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'researcherProfile')}}</h3>\\r\\n                <p ng-repeat=\\\"link in person.wiki.profiles\\\"><a class=\\\"arrow-link md-primoExplore-theme\\\" ng-href=\\\"{{link.url}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n                    <span>{{link.label}}</span>\\r\\n                    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    <prm-icon link-arrow external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n                </a></p>\\r\\n            </div>\\r\\n            <div ng-if=\\\"person.metagridLinks && person.metagridLinks.length > 0\\\">\\r\\n                <h3 class=\\\"md-subhead eth-person__subhead\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksMetagrid')}}</h3>\\r\\n                <p class=\\\"eth-person__links-hint\\\">Links powered by <a target=\\\"_blank\\\" href=\\\"https://www.metagrid.ch/\\\" class=\\\"wikidata-person__links-source md-default-theme\\\">\\r\\n                    Metagrid\\r\\n                    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                </a></p>\\r\\n                <p ng-repeat=\\\"link in person.metagridLinks\\\"><a class=\\\"arrow-link md-primoExplore-theme\\\" ng-href=\\\"{{link.url}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n                    <span>{{link.label}}</span>\\r\\n                    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    <prm-icon link-arrow external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n                </a></p>\\r\\n            </div>\\r\\n            <div ng-if=\\\"person.findbuchLinks && person.findbuchLinks.length > 0\\\">\\r\\n                <h3 class=\\\"md-subhead eth-person__subhead\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksFindbuch')}}</h3>\\r\\n                <p class=\\\"eth-person__links-hint\\\">\\r\\n                    {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksFindbuchHint1')}}\\r\\n                    <a target=\\\"_blank\\\" href=\\\"http://beacon.findbuch.de/seealso/pnd-aks\\\" class=\\\"wikidata-person__links-source md-default-theme\\\">pnd-aks\\r\\n                        <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    </a>,\\r\\n                    {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksFindbuchHint2')}}\\r\\n                    <a target=\\\"_blank\\\" href=\\\"https://de.wikipedia.org/wiki/Wikipedia:BEACON\\\" class=\\\"wikidata-person__links-source md-default-theme\\\">BEACON\\r\\n                        <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    </a>\\r\\n                    {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'linksFindbuchHint3')}}\\r\\n                </p>\\r\\n                <p ng-repeat=\\\"link in person.findbuchLinks\\\"><a class=\\\"arrow-link md-primoExplore-theme\\\" ng-href=\\\"{{link.url}}\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">\\r\\n                    <span>{{link.label}}</span>\\r\\n                    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    <prm-icon link-arrow external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n                </a></p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<div id=\\\"altmetric-doi-{{$ctrl.id}}\\\" class=\\\"eth-altmetric-container layout-row\\\">\\r\\n  <div aria-label=\\\"Altmetric\\\" ng-if=\\\"$ctrl.doi != ''\\\"  ng-click=\\\"$event.stopPropagation();\\\"\\r\\n        data-link-target=\\\"_blank\\\"\\r\\n        rel=\\\"noopener\\\"\\r\\n        class=\\\"altmetric-embed\\\"\\r\\n        data-hide-no-mentions=\\\"true\\\"\\r\\n        data-badge-type=\\\"4\\\" data-badge-popover=\\\"right\\\" data-doi=\\\"{{$ctrl.doi}}\\\">\\r\\n </div>\\r\\n <div id=\\\"altmetric-isbn-{{$ctrl.id}}\\\" aria-label=\\\"Altmetric\\\" ng-if=\\\"$ctrl.isbn != ''\\\"\\r\\n      ng-click=\\\"$event.stopPropagation();\\\"\\r\\n      data-link-target=\\\"_blank\\\" rel=\\\"noopener\\\"\\r\\n      class=\\\"altmetric-embed\\\" data-hide-no-mentions=\\\"true\\\" data-badge-type=\\\"4\\\"\\r\\n      data-badge-popover=\\\"right\\\" data-isbn=\\\"{{$ctrl.isbn}}\\\">\\r\\n </div>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<div ng-if=\\\"$ctrl.showAuthor();\\\">{{$ctrl.author}}</div>\";\n// Exports\nexport default code;","// Module\nvar code = \"<div class=\\\"eth-journals\\\" layout-gt-sm=\\\"row\\\" flex=\\\"100\\\" layout-padding layout-align=\\\"center start\\\">\\r\\n    <div flex-gt-sm=\\\"50\\\" flex=\\\"100\\\" layout=\\\"column\\\">\\r\\n        <md-card class=\\\"default-card eth-card eth-card-journals\\\">\\r\\n            <md-card-title flex=\\\"none\\\" class=\\\"eth-card-title\\\">\\r\\n                <md-card-title-text>\\r\\n                    <span class=\\\"md-headline\\\" role=\\\"heading\\\" aria-level=\\\"2\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'heading')}}</span>\\r\\n                </md-card-title-text>\\r\\n            </md-card-title>\\r\\n            <md-card-content>\\r\\n                <p>\\r\\n                    {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'p1')}}\\r\\n                </p>\\r\\n                <p>\\r\\n                    {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'p2')}}\\r\\n                    <a target=\\\"_blank\\\" href=\\\"{{::$ctrl.ethConfigService.getUrl($ctrl.config, 'ill')}}\\\" class=\\\"arrow-link\\\" rel=\\\"external\\\">\\r\\n                        {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'ill')}}\\r\\n                        <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                    </a>.   \\r\\n                </p>\\r\\n                <!--md-card-title-text>\\r\\n                    <span class=\\\"md-headline\\\" role=\\\"heading\\\" aria-level=\\\"3\\\">{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'h3')}}</span>\\r\\n                </md-card-title-text-->\\r\\n                <!--ul>\\r\\n                    <li>\\r\\n                        <strong>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option1a')}}</strong>\\r\\n                        <br>\\r\\n                        {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option1b')}}\\r\\n                        <a target=\\\"_blank\\\" href=\\\"{{::$ctrl.ethConfigService.getUrl($ctrl.config, 'ill')}}\\\" class=\\\"arrow-link\\\" rel=\\\"external\\\">\\r\\n                            {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'ill')}}\\r\\n                            <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                        </a>.\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <strong>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option2a')}}</strong>\\r\\n                        <br>\\r\\n                        {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option2b')}}\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <strong>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option3a')}}</strong>\\r\\n                        <br>\\r\\n                        {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option3b')}}\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <strong>{{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option4a')}}</strong>\\r\\n                        <br>\\r\\n                        {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'option4b')}}\\r\\n                        <a target=\\\"_blank\\\" href=\\\"{{::$ctrl.ethConfigService.getUrl($ctrl.config, 'ill')}}\\\" class=\\\"arrow-link\\\" rel=\\\"external\\\">\\r\\n                            {{::$ctrl.ethConfigService.getLabel($ctrl.config, 'ill')}}\\r\\n                            <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n                        </a>.\\r\\n                    </li>\\r\\n                </ul -->\\r\\n            </md-card-content>\\r\\n        </md-card>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<style>\\r\\n    @media screen and (max-width:600px) {\\r\\n        prm-stack-map span {\\r\\n            display: none !important;\\r\\n        }    \\r\\n\\r\\n        .hide-mobile {            \\r\\n            display: none !important;\\r\\n        }\\r\\n    }\\r\\n</style>\\r\\n<a ng-if=\\\"$ctrl.libid\\\" ng-href=\\\"{{$ctrl.libid}}\\\" target=\\\"_blank\\\" \\r\\n   class='zero-margin button-with-icon button-link md-button md-primoExplore-theme md-ink-ripple'>\\r\\n    <prm-icon icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-actions\\\" icon-definition=\\\"info\\\"></prm-icon>\\r\\n    <span class=\\\"hide-mobile\\\" translate='nui.customizing.idslu.informationtooltip'></span>    \\r\\n</a>\";\n// Exports\nexport default code;","// Module\nvar code = \"<md-button ng-click=\\\"$ctrl.getInfo()\\\" class=\\\"libinfo md-raised\\\" ng-if=\\\"$ctrl.mainLocation != 'EMPTY'\\\" ng-hide=\\\"$ctrl.showLib\\\">\\r\\n    <span>{{$ctrl.mainLocation}}</span>\\r\\n    <md-icon>\\r\\n    <svg class=\\\"md-secondary status-\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\r\\n        <path fill=\\\"currentColor\\\" d=\\\"M 32,4 C 16.537113,4 4,16.541629 4,32 4,47.467403 16.537113,60 32,60 47.462887,60 60,47.467403 60,32 60,16.541629 47.462887,4 32,4 Z m 0,50.580646 C 19.52058,54.580646 9.4193545,44.483597 9.4193545,32 9.4193545,19.524758 19.521033,9.4193545 32,9.4193545 44.47479,9.4193545 54.580646,19.52092 54.580646,32 54.580646,44.479193 44.483597,54.580646 32,54.580646 Z m 0,-38.161292 c 2.618903,0 4.741936,2.123033 4.741936,4.741936 0,2.618903 -2.123033,4.741936 -4.741936,4.741936 -2.618903,0 -4.741936,-2.123033 -4.741936,-4.741936 0,-2.618903 2.123033,-4.741936 4.741936,-4.741936 z m 6.32258,28.67742 c 0,0.74821 -0.606628,1.354839 -1.354838,1.354839 h -9.935484 c -0.74821,0 -1.354838,-0.606629 -1.354838,-1.354839 v -2.709677 c 0,-0.74821 0.606628,-1.354839 1.354838,-1.354839 h 1.354839 v -7.225806 h -1.354839 c -0.74821,0 -1.354838,-0.606629 -1.354838,-1.354839 v -2.709677 c 0,-0.74821 0.606628,-1.354839 1.354838,-1.354839 h 7.225806 c 0.74821,0 1.354839,0.606629 1.354839,1.354839 v 11.290322 h 1.354839 c 0.748209,0 1.354838,0.606629 1.354838,1.354839 z\\\"></path>\\r\\n    </svg>\\r\\n    </md-icon>\\r\\n</md-button>\\r\\n<div id=\\\"libinfo\\\" ng-show=\\\"$ctrl.showLib\\\">\\r\\n    <div layout=\\\"row\\\" layout-wrap=\\\"\\\">\\r\\n        <div flex=\\\"100\\\"><h4>{{$ctrl.library.name}}</h4></div>\\r\\n        <div flex=\\\"100\\\" flex-gt-sm=\\\"50\\\">\\r\\n            <md-button class=\\\"button-confirm\\\" ng-if=\\\"$ctrl.library.is_open\\\"><span translate=\\\"nui.customizing.openhours.open\\\"></span></md-button>\\r\\n            <md-button class=\\\"button-notice\\\" ng-if=\\\"$ctrl.library.is_open === false\\\"><span translate=\\\"nui.customizing.openhours.closed\\\"></span></md-button>\\r\\n            <md-button class=\\\"button-notice\\\" ng-if=\\\"$ctrl.library.is_open === null\\\"><span translate=\\\"nui.customizing.openhours.request\\\"></span></md-button>\\r\\n            \\r\\n            <p>{{$ctrl.library.street}}<br>{{$ctrl.library.postcode}}&nbsp;{{$ctrl.library.place}}</p>\\r\\n            <p>\\r\\n                <a href=\\\"tel:+41{{$ctrl.library.phone.substr(1)}}\\\">\\r\\n                <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\" width=\\\"1em\\\">\\r\\n                        <path fill=\\\"currentColor\\\" d=\\\"M 6.034333,6.6917509 17.409102,4.0668064 c 1.235912,-0.284369 2.504637,0.3609298 3.007751,1.5202803 l 5.249894,12.2497413 c 0.459365,1.071853 0.153121,2.329638 -0.754673,3.062435 l -6.62799,5.424886 c 3.93742,8.388885 10.816968,15.366863 19.380856,19.380841 l 5.42489,-6.627985 c 0.743734,-0.907794 1.990584,-1.214037 3.062437,-0.754672 l 12.249751,5.249889 c 1.170289,0.514052 1.815588,1.782775 1.531219,3.018686 l -2.624946,11.37476 C 57.034859,59.146893 55.98488,60 54.748968,60 26.7386,60 4,37.305167 4,9.2510718 4,8.0260977 4.84217,6.9651826 6.034333,6.6917509 z\\\"></path>\\r\\n                    </svg>\\r\\n                    +41 {{$ctrl.library.phone.substr(1,2)}} {{$ctrl.library.phone.substr(3,3)}} {{$ctrl.library.phone.substr(6,2)}} {{$ctrl.library.phone.substr(8,2)}}\\r\\n                </a>\\r\\n                <br>\\r\\n                <a href=\\\"mailto:{{$ctrl.library.email}}\\\">\\r\\n                    <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\" width=\\\"1em\\\">\\r\\n                        <path fill=\\\"currentColor\\\" d=\\\"M 54.75,11 H 9.25 C 6.3504687,11 4,13.350469 4,16.25 v 31.5 C 4,50.64953 6.3504687,53 9.25,53 h 45.5 C 57.649531,53 60,50.64953 60,47.75 V 16.25 C 60,13.350469 57.649531,11 54.75,11 Z m 0,5.25 v 4.463047 C 52.297594,22.710125 48.387875,25.8155 40.029547,32.360391 38.187562,33.809281 34.538812,37.290141 32,37.249563 29.461625,37.290578 25.811672,33.808734 23.970453,32.360391 15.613437,25.816484 11.702734,22.710453 9.25,20.713047 V 16.25 Z M 9.25,47.75 V 27.449781 c 2.506219,1.996203 6.060359,4.797406 11.477594,9.039406 2.390609,1.881797 6.577156,6.035969 11.272406,6.010704 4.672172,0.02526 8.805672,-4.068641 11.271422,-6.009829 5.417125,-4.24189 8.97225,-7.043859 11.478578,-9.040171 V 47.75 z\\\"></path>\\r\\n                    </svg>\\r\\n                    {{$ctrl.library.email}}\\r\\n                </a>\\r\\n                <br>\\r\\n                <a href=\\\"{{$ctrl.library.url}}\\\" target=\\\"_blank\\\">\\r\\n                    <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\" width=\\\"1em\\\">\\r\\n                        <path fill=\\\"currentColor\\\" d=\\\"M 32,4 C 16.532258,4 4,16.532258 4,32 4,47.467742 16.532258,60 32,60 47.467742,60 60,47.467742 60,32 60,16.532258 47.467742,4 32,4 Z m -3.612903,5.735484 v 1.275806 c 0,1.343549 -1.41129,2.212903 -2.619355,1.614517 l -2.709678,-1.35484 c 1.682259,-0.72258 3.466129,-1.230644 5.329033,-1.535483 z M 32,51.487097 v 3.093549 C 19.546774,54.580645 9.4193549,44.453226 9.4193549,32 c 0,-3.285484 0.7225801,-6.401613 1.9870971,-9.224193 1.117742,1.659677 2.845161,4.22258 3.906451,5.769354 0.587097,0.858065 1.264517,1.648387 2.043549,2.337097 l 0.09032,0.07903 c 1.07258,0.970969 2.280646,1.806452 3.567742,2.46129 1.580645,0.790323 3.883871,2.05484 5.509677,2.946775 1.151614,0.632258 1.862904,1.840322 1.862904,3.161291 v 3.612903 c 0,0.959677 0.38387,1.874193 1.06129,2.551613 C 31.141936,47.4 32.191936,50.064516 32,51.487097 Z M 36.820967,54.05 38.785484,48.754839 c 0.225806,-0.620968 0.37258,-1.264516 0.541936,-1.908065 0.124193,-0.451613 0.36129,-0.869354 0.7,-1.208064 l 1.275806,-1.275807 C 42.296774,43.380645 42.85,42.037097 42.85,40.637097 c 0,-0.914517 -0.36129,-1.795161 -1.004839,-2.43871 l -1.546774,-1.546774 c -0.67742,-0.67742 -1.591936,-1.06129 -2.551613,-1.06129 h -7.553225 c -1.061291,-0.530646 -2.42742,-3.612903 -3.612903,-3.612903 -1.185485,0 -2.359679,-0.282259 -3.420969,-0.812904 l -1.253225,-0.620968 c -0.451613,-0.225806 -0.745162,-0.699999 -0.745162,-1.208064 0,-0.575807 0.372581,-1.095161 0.925807,-1.275807 l 3.52258,-1.174193 c 0.609678,-0.203226 1.275807,-0.06774 1.75,0.35 l 1.05,0.914516 c 0.169356,0.146774 0.372581,0.225807 0.587097,0.225807 h 0.632259 c 0.677419,0 1.106451,-0.711291 0.812903,-1.309678 l -1.761291,-3.52258 c -0.180645,-0.35 -0.101612,-0.779033 0.180645,-1.05 l 1.117743,-1.083872 C 30.148387,21.240323 30.374193,21.15 30.61129,21.15 h 1.01613 c 0.237096,0 0.474193,-0.09032 0.643547,-0.259677 l 0.903226,-0.903226 c 0.35,-0.35 0.35,-0.925807 0,-1.275807 l -0.530644,-0.530645 c -0.350001,-0.349999 -0.350001,-0.925806 0,-1.275806 l 1.162902,-1.162903 0.530646,-0.530646 c 0.7,-0.7 0.7,-1.851613 0,-2.551613 L 31.141936,9.464516 C 31.424193,9.453226 31.706451,9.419356 32,9.419356 c 8.829033,0 16.46129,5.103226 20.175807,12.498387 l -1.467743,0.733871 c -0.417741,0.214516 -0.779031,0.530646 -1.03871,0.914516 l -2.212903,3.319356 c -0.609677,0.914516 -0.609677,2.1 0,3.003225 L 49.48871,32.9371 c 0.37258,0.564515 0.948387,0.959677 1.591935,1.129031 l 3.296775,0.824194 C 53.158064,44.374193 46.033871,52.040323 36.820967,54.05 Z\\\"></path>\\r\\n                    </svg>\\r\\n                    {{$ctrl.library.url}}\\r\\n                </a>\\r\\n            </p>\\r\\n            <div class=\\\"openings\\\" ng-if=\\\"$ctrl.library.is_open !== null\\\">\\r\\n                <p><strong><span translate=\\\"nui.customizing.openhours.openings\\\"></span></strong></p>\\r\\n            <p ng-repeat=\\\"day in $ctrl.library.openings\\\">\\r\\n                <span class=\\\"day\\\">{{$ctrl.weekdayText(day)}}</span>\\r\\n                <span ng-repeat=\\\"time in day.times\\\"  ng-if=\\\"day.times.length>0\\\">\\r\\n                    <span class=\\\"opening\\\" ng-if=\\\"time.open\\\">{{time.open}} - {{time.closed}}</span>\\r\\n                    <span ng-if=\\\"!time.open\\\">closed</span>\\r\\n                </span>\\r\\n                <span ng-if=\\\"day.times.length==0\\\">closed</span></p>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div flex=\\\"100\\\" flex-gt-sm=\\\"50\\\">\\r\\n            <img src=\\\"{{$ctrl.library.image}}\\\" style=\\\"height:90%; width:90%;\\\">\\r\\n            \\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<rzs-link class=\\\"idslu-e-help\\\" url=\\\"{{('nui.customizing.idslu.ehelpurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.ehelptext' | translate)}}\\\"></rzs-link>\\r\\n<rzs-link class=\\\"idslu-elibraries\\\" url=\\\"{{('nui.customizing.idslu.elibrariesurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.elibrariestext' | translate)}}\\\"></rzs-link>\\r\\n<rzs-link class=\\\"idslu-eclosures\\\" url=\\\"{{('nui.customizing.idslu.eclosuresurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.eclosurestext' | translate)}}\\\"></rzs-link>\";\n// Exports\nexport default code;","// Module\nvar code = \"<div ng-hide=\\\"{{$ctrl.linkText == ''}}\\\" class=\\\"prm-notice {{$ctrl.linkClass}}\\\">\\r\\n  <a class=\\\"arrow-link\\\" ng-href=\\\"{{$ctrl.linkUrl}}\\\" target=\\\"_blank\\\">\\r\\n    <span>{{$ctrl.linkText}}</span>\\r\\n    <prm-icon external-link icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"open-in-new\\\"></prm-icon>\\r\\n    <prm-icon external-link link-arrow icon-type=\\\"svg\\\" svg-icon-set=\\\"primo-ui\\\" icon-definition=\\\"chevron-right\\\"></prm-icon>\\r\\n  </a>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<rzs-link class=\\\"idslu-p-help\\\" url=\\\"{{('nui.customizing.idslu.phelpurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.phelptext' | translate)}}\\\"></rzs-link>\\r\\n<rzs-link class=\\\"idslu-plibraries\\\" url=\\\"{{('nui.customizing.idslu.plibrariesurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.plibrariestext' | translate)}}\\\"></rzs-link>\\r\\n<rzs-link class=\\\"idslu-pclosures\\\" url=\\\"{{('nui.customizing.idslu.pclosuresurl' | translate)}}\\\" text=\\\"{{('nui.customizing.idslu.pclosurestext' | translate)}}\\\"></rzs-link>\";\n// Exports\nexport default code;","// Module\nvar code = \"<!-- \\r\\n    This is a null component meaning you can put this in any HTML and it will be rendered.\\r\\n    Look in your VIEW/html/homepage/homepage_xx.html file to see how it is used.\\r\\n-->\\r\\n<div ng-if='$ctrl.onCampus' class=\\\"hsg-on-campus-info layout-row\\\" layout=\\\"row\\\">\\r\\n\\t<svg height=\\\"24\\\" viewBox=\\\"0 0 64 64\\\" width=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n\\t\\t<path d=\\\"M 32,4 C 16.537113,4 4,16.541629 4,32 4,47.467403 16.537113,60 32,60 47.462887,60 60,47.467403 60,32 60,16.541629 47.462887,4 32,4 Z m 0,50.580645 C 19.520581,54.580645 9.419355,44.483597 9.419355,32 9.419355,19.524758 19.521032,9.419355 32,9.419355 44.47479,9.419355 54.580645,19.520919 54.580645,32 54.580645,44.479194 44.483597,54.580645 32,54.580645 Z M 36.741935,42.83871 c 0,2.614725 -2.127209,4.741935 -4.741935,4.741935 -2.614726,0 -4.741935,-2.12721 -4.741935,-4.741935 0,-2.614726 2.127209,-4.741936 4.741935,-4.741936 2.614726,0 4.741935,2.12721 4.741935,4.741936 z M 27.555,18.970855 28.322742,34.325694 c 0.03602,0.721112 0.631242,1.287209 1.353145,1.287209 h 4.648226 c 0.721903,0 1.317129,-0.566097 1.353145,-1.287209 L 36.445,18.970855 c 0.03873,-0.773839 -0.57829,-1.422468 -1.353145,-1.422468 h -6.18371 c -0.774855,0 -1.391871,0.648629 -1.353145,1.422468 z\\\"></path>\\r\\n\\t</svg>\\r\\n    <div>\\r\\n    <p>Lizenzierte elektronische Ressourcen sind im Netzwerk der Universtät, der PH und der Hochschule zugänglich.</p>\\r\\n    </div>     \\r\\n</div>\\r\\n<div ng-if='$ctrl.offCampus' class=\\\"hsg-off-campus-info layout-row\\\" layout=\\\"row\\\">\\r\\n\\t<svg height=\\\"24\\\" viewBox=\\\"0 0 64 64\\\" width=\\\"24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n\\t\\t<path d=\\\"M 32,4 C 16.537113,4 4,16.541629 4,32 4,47.467403 16.537113,60 32,60 47.462887,60 60,47.467403 60,32 60,16.541629 47.462887,4 32,4 Z m 0,50.580645 C 19.520581,54.580645 9.419355,44.483597 9.419355,32 9.419355,19.524758 19.521032,9.419355 32,9.419355 44.47479,9.419355 54.580645,19.520919 54.580645,32 54.580645,44.479194 44.483597,54.580645 32,54.580645 Z M 36.741935,42.83871 c 0,2.614725 -2.127209,4.741935 -4.741935,4.741935 -2.614726,0 -4.741935,-2.12721 -4.741935,-4.741935 0,-2.614726 2.127209,-4.741936 4.741935,-4.741936 2.614726,0 4.741935,2.12721 4.741935,4.741936 z M 27.555,18.970855 28.322742,34.325694 c 0.03602,0.721112 0.631242,1.287209 1.353145,1.287209 h 4.648226 c 0.721903,0 1.317129,-0.566097 1.353145,-1.287209 L 36.445,18.970855 c 0.03873,-0.773839 -0.57829,-1.422468 -1.353145,-1.422468 h -6.18371 c -0.774855,0 -1.391871,0.648629 -1.353145,1.422468 z\\\"></path>\\r\\n\\t</svg>\\r\\n    <div>\\r\\n    <p>Sie sind off-campus. Bitte aktivieren Sie VPN um auf lizenzierte elektronische Ressourcen zugreifen zu können.</p>\\r\\n    </div>     \\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","// Module\nvar code = \"<!-- if the location is visible show next block  -->\\r\\n<div ng-show=\\\"$ctrl.visible\\\" aria-hidden=\\\"false\\\" id=\\\"libinfo\\\">\\r\\n    <!-- if the button was not clicked then show next block -->\\r\\n     <!-- divke rond ? -->\\r\\n    <div ng-if=\\\"!$ctrl.show\\\" layout=\\\"row\\\" layout-wrap=\\\"\\\" class=\\\"layout-wrap layout-row\\\">\\r\\n        <!-- $ctrl.toggle wil flip the boolean from true <-> false -->\\r\\n         <!-- when the service return data then show occupancy when available-->\\r\\n            <button ng-if=\\\"$ctrl.hasData()\\\" ng-click=\\\"$ctrl.toggle()\\\" class=\\\"libinfo md-raised md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                <!--span translate='nui.customizing.idslu.informationtooltip'></span-->\\r\\n                <span>{{ $ctrl.data.name }}</span>\\r\\n                <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" id=\\\"library-info\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"38px\\\" height=\\\"38px\\\" viewBox=\\\"0 0 100 100\\\" xml:space=\\\"preserve\\\">\\r\\n                    <g>\\r\\n                        <path d=\\\"M50,95C25.187,95,5,74.813,5,50C5,25.187,25.187,5,50,5c24.813,0,45,20.187,45,45C95,74.813,74.813,95,50,95z M50,10.625   c-21.711,0-39.375,17.664-39.375,39.375c0,21.711,17.664,39.375,39.375,39.375c21.712,0,39.375-17.664,39.375-39.375   C89.375,28.289,71.712,10.625,50,10.625z\\\"></path>\\r\\n                    </g>\\r\\n                    <g>\\r\\n                        <g>\\r\\n                            <path d=\\\"M61.516,67.309l2.288,1.063c-4.021,3.073-7.879,5.476-11.577,7.208c-3.698,1.733-6.748,2.599-9.149,2.599    c-1.342,0-2.322-0.255-2.947-0.767c-0.623-0.512-0.937-1.319-0.937-2.424c0-2.73,1.145-7.004,3.432-12.819    c2.288-5.815,3.432-9.933,3.432-12.349c0-0.446-0.127-0.787-0.382-1.024c-0.254-0.236-0.612-0.355-1.074-0.355    c-0.74,0-1.641,0.223-2.704,0.67c-1.063,0.447-2.379,1.156-3.951,2.127l-2.149-1.182c4.297-2.888,8.25-5.146,11.854-6.775    c3.604-1.627,6.422-2.441,8.456-2.441c1.341,0,2.333,0.236,2.98,0.709c0.647,0.472,0.971,1.181,0.971,2.126    c0,0.919-0.739,3.874-2.218,8.862c-0.51,1.681-0.901,3.007-1.179,3.979c-0.971,3.256-1.733,5.961-2.288,8.113    c-0.554,2.153-0.831,3.454-0.831,3.9c0,0.551,0.15,0.959,0.45,1.222c0.301,0.263,0.773,0.394,1.421,0.394    c0.646,0,1.478-0.237,2.495-0.71C58.927,68.963,60.129,68.254,61.516,67.309z\\\"></path>\\r\\n                        </g>\\r\\n                        <g>\\r\\n                            <circle cx=\\\"56.198\\\" cy=\\\"29.933\\\" r=\\\"8.004\\\"></circle>\\r\\n                        </g>\\r\\n                    </g>\\r\\n                </svg>\\r\\n                <span ng-if=\\\"$ctrl.data.data.occupancy.value.maximum > 0\\\">\\r\\n                    Occupancy: {{$ctrl.data.data.occupancy.value.current}} / {{$ctrl.data.data.occupancy.value.maximum  }} \\r\\n                    <!-- <i class=\\\"fa fa-chevron-right\\\" id=\\\"\\\" ></i> -->\\r\\n                    <svg id=\\\"chevron-right_cache340\\\" width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 20 20\\\" y=\\\"384\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"  fill=\\\"#3bbfad\\\" fit=\\\"\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" focusable=\\\"false\\\" >\\r\\n                        <path d=\\\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\\\"></path>\\r\\n                    </svg>\\r\\n                </span>\\r\\n                <span ng-if=\\\"$ctrl.data.data.occupancy.value.maximum == 0\\\">\\r\\n                    Opening Hours\\r\\n                </span--> \\r\\n\\r\\n            </button>\\r\\n            <!-- dont show link -->\\r\\n            <div ng-if=\\\"$ctrl.hasData()\\\">\\r\\n                <style>\\r\\n                    div.i-button.neutralized-button.arrow-link-button.md-button.md-primoExplore-theme.md-ink-ripple > a.md-primoExplore-theme {\\r\\n                        display: none;\\r\\n                    }\\r\\n                </style>  \\r\\n\\r\\n            </div> \\r\\n            <!-- when the service dit NOT return data then show next message-->\\r\\n            <button ng-if=\\\"!$ctrl.hasData()\\\" class=\\\"button-confirm md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                <span>\\r\\n                    No opening hours data found\\r\\n                </span>                     \\r\\n            </button>\\r\\n    </div>\\r\\n\\r\\n    <!-- if the button was clicked (toggle button) then show next block -->\\r\\n    <div ng-if=\\\"$ctrl.show\\\" layout=\\\"row\\\" layout-wrap=\\\"\\\" class=\\\"layout-wrap layout-row\\\">\\r\\n        <div flex=\\\"100\\\" flex-gt-sm=\\\"50\\\" class=\\\"flex-gt-sm-50 flex-100\\\">\\r\\n            <button ng-click=\\\"$ctrl.toggle()\\\" class=\\\"libinfo md-raised md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                <!--span translate='nui.customizing.idslu.informationtooltip'></span-->\\r\\n                <span>{{ $ctrl.data.name }}</span>\\r\\n                <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" id=\\\"library-info\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"38px\\\" height=\\\"38px\\\" viewBox=\\\"0 0 100 100\\\" xml:space=\\\"preserve\\\">\\r\\n                    <g>\\r\\n                        <path d=\\\"M50,95C25.187,95,5,74.813,5,50C5,25.187,25.187,5,50,5c24.813,0,45,20.187,45,45C95,74.813,74.813,95,50,95z M50,10.625   c-21.711,0-39.375,17.664-39.375,39.375c0,21.711,17.664,39.375,39.375,39.375c21.712,0,39.375-17.664,39.375-39.375   C89.375,28.289,71.712,10.625,50,10.625z\\\"></path>\\r\\n                    </g>\\r\\n                    <g>\\r\\n                        <g>\\r\\n                            <path d=\\\"M61.516,67.309l2.288,1.063c-4.021,3.073-7.879,5.476-11.577,7.208c-3.698,1.733-6.748,2.599-9.149,2.599    c-1.342,0-2.322-0.255-2.947-0.767c-0.623-0.512-0.937-1.319-0.937-2.424c0-2.73,1.145-7.004,3.432-12.819    c2.288-5.815,3.432-9.933,3.432-12.349c0-0.446-0.127-0.787-0.382-1.024c-0.254-0.236-0.612-0.355-1.074-0.355    c-0.74,0-1.641,0.223-2.704,0.67c-1.063,0.447-2.379,1.156-3.951,2.127l-2.149-1.182c4.297-2.888,8.25-5.146,11.854-6.775    c3.604-1.627,6.422-2.441,8.456-2.441c1.341,0,2.333,0.236,2.98,0.709c0.647,0.472,0.971,1.181,0.971,2.126    c0,0.919-0.739,3.874-2.218,8.862c-0.51,1.681-0.901,3.007-1.179,3.979c-0.971,3.256-1.733,5.961-2.288,8.113    c-0.554,2.153-0.831,3.454-0.831,3.9c0,0.551,0.15,0.959,0.45,1.222c0.301,0.263,0.773,0.394,1.421,0.394    c0.646,0,1.478-0.237,2.495-0.71C58.927,68.963,60.129,68.254,61.516,67.309z\\\"></path>\\r\\n                        </g>\\r\\n                        <g>\\r\\n                            <circle cx=\\\"56.198\\\" cy=\\\"29.933\\\" r=\\\"8.004\\\"></circle>\\r\\n                        </g>\\r\\n                    </g>\\r\\n                </svg>\\r\\n                <span ng-if=\\\"$ctrl.data.data.occupancy.value.maximum > 0\\\">\\r\\n                    Occupancy: {{$ctrl.data.data.occupancy.value.current}} / {{$ctrl.data.data.occupancy.value.maximum  }} \\r\\n                    <!-- added roation 90degrees to have chevron downwords -->\\r\\n                    <svg id=\\\"chevron-right_cache340\\\" width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 20 20\\\" y=\\\"384\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"#3bbfad\\\" fit=\\\"\\\" preserveAspectRatio=\\\"xMidYMid meet\\\" focusable=\\\"false\\\" transform=\\\"rotate(90)\\\" >\\r\\n                        <path d=\\\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\\\"></path>\\r\\n                    </svg>\\r\\n                </span>\\r\\n            </button>\\r\\n\\r\\n            <!-- dont show link  -->\\r\\n            <style>\\r\\n                div.i-button.neutralized-button.arrow-link-button.md-button.md-primoExplore-theme.md-ink-ripple > a.md-primoExplore-theme {\\r\\n                    display: none;\\r\\n                }\\r\\n            </style>  \\r\\n\\r\\n\\r\\n            <!-- Infobutton when open -->\\r\\n                <!-- <button ng-if=\\\"$ctrl.isOpen\\\" ng-click=\\\"$ctrl.toggle()\\\" class=\\\"button-confirm md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                    <span>Bibliothek ist offen fast immer</span>\\r\\n                </button>  -->\\r\\n            <!-- Infobutton when closed -->\\r\\n             <button ng-if=\\\"!$ctrl.isOpen && $ctrl.data.data.useage\\\" ng-click=\\\"$ctrl.toggle()\\\" class=\\\"button-warn md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                <span>Bibliothek ist geschlossen</span>\\r\\n            </button> \\r\\n            <!-- Infobutton when no opening hours data in database -->\\r\\n             <button ng-if=\\\"!$ctrl.isOpen && !$ctrl.data.data.useage\\\" ng-click=\\\"$ctrl.toggle()\\\" class=\\\"button-notice md-button md-primoExplore-theme md-ink-ripple\\\" type=\\\"button\\\">\\r\\n                <span>Öffnungszeiten auf Anfrage</span>\\r\\n            </button> \\r\\n\\r\\n            <p ng-if='$ctrl.data.data.address'>{{ $ctrl.data.data.address.value[$ctrl.language] }}<br>{{ $ctrl.data.data.city.value[$ctrl.language] }}</p>\\r\\n            <p>\\r\\n                <span ng-if='$ctrl.data.data.phone'>\\r\\n                    <a href=\\\"tel:{{ $ctrl.data.data.phone.value }}\\\" class=\\\"md-primoExplore-theme\\\">\\r\\n                    <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\r\\n                            <path fill=\\\"currentColor\\\" d=\\\"M 6.034333,6.6917509 17.409102,4.0668064 c 1.235912,-0.284369 2.504637,0.3609298 3.007751,1.5202803 l 5.249894,12.2497413 c 0.459365,1.071853 0.153121,2.329638 -0.754673,3.062435 l -6.62799,5.424886 c 3.93742,8.388885 10.816968,15.366863 19.380856,19.380841 l 5.42489,-6.627985 c 0.743734,-0.907794 1.990584,-1.214037 3.062437,-0.754672 l 12.249751,5.249889 c 1.170289,0.514052 1.815588,1.782775 1.531219,3.018686 l -2.624946,11.37476 C 57.034859,59.146893 55.98488,60 54.748968,60 26.7386,60 4,37.305167 4,9.2510718 4,8.0260977 4.84217,6.9651826 6.034333,6.6917509 z\\\"></path>\\r\\n                        </svg>\\r\\n                        {{ $ctrl.data.data.phone.value }}\\r\\n                    </a>\\r\\n                </span>                \\r\\n                <br>\\r\\n                <span ng-if='$ctrl.data.data.email'> \\r\\n                    <a href=\\\"mailto:{{ $ctrl.data.data.email.value }}\\\" class=\\\"md-primoExplore-theme\\\">\\r\\n                        <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\r\\n                            <path fill=\\\"currentColor\\\" d=\\\"M 54.75,11 H 9.25 C 6.3504687,11 4,13.350469 4,16.25 v 31.5 C 4,50.64953 6.3504687,53 9.25,53 h 45.5 C 57.649531,53 60,50.64953 60,47.75 V 16.25 C 60,13.350469 57.649531,11 54.75,11 Z m 0,5.25 v 4.463047 C 52.297594,22.710125 48.387875,25.8155 40.029547,32.360391 38.187562,33.809281 34.538812,37.290141 32,37.249563 29.461625,37.290578 25.811672,33.808734 23.970453,32.360391 15.613437,25.816484 11.702734,22.710453 9.25,20.713047 V 16.25 Z M 9.25,47.75 V 27.449781 c 2.506219,1.996203 6.060359,4.797406 11.477594,9.039406 2.390609,1.881797 6.577156,6.035969 11.272406,6.010704 4.672172,0.02526 8.805672,-4.068641 11.271422,-6.009829 5.417125,-4.24189 8.97225,-7.043859 11.478578,-9.040171 V 47.75 z\\\"></path>\\r\\n                        </svg>\\r\\n                        {{ $ctrl.data.data.email.value }}\\r\\n                    </a>\\r\\n                </span>\\r\\n                <br>\\r\\n                <span ng-if='$ctrl.data.data.homepage'> \\r\\n                    <a target=\\\"_blank\\\" class=\\\"md-primoExplore-theme\\\" href=\\\"{{ $ctrl.data.data.homepage.value[$ctrl.language] }}\\\">\\r\\n                        <svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 64 64\\\">\\r\\n                            <path fill=\\\"currentColor\\\" d=\\\"M 32,4 C 16.532258,4 4,16.532258 4,32 4,47.467742 16.532258,60 32,60 47.467742,60 60,47.467742 60,32 60,16.532258 47.467742,4 32,4 Z m -3.612903,5.735484 v 1.275806 c 0,1.343549 -1.41129,2.212903 -2.619355,1.614517 l -2.709678,-1.35484 c 1.682259,-0.72258 3.466129,-1.230644 5.329033,-1.535483 z M 32,51.487097 v 3.093549 C 19.546774,54.580645 9.4193549,44.453226 9.4193549,32 c 0,-3.285484 0.7225801,-6.401613 1.9870971,-9.224193 1.117742,1.659677 2.845161,4.22258 3.906451,5.769354 0.587097,0.858065 1.264517,1.648387 2.043549,2.337097 l 0.09032,0.07903 c 1.07258,0.970969 2.280646,1.806452 3.567742,2.46129 1.580645,0.790323 3.883871,2.05484 5.509677,2.946775 1.151614,0.632258 1.862904,1.840322 1.862904,3.161291 v 3.612903 c 0,0.959677 0.38387,1.874193 1.06129,2.551613 C 31.141936,47.4 32.191936,50.064516 32,51.487097 Z M 36.820967,54.05 38.785484,48.754839 c 0.225806,-0.620968 0.37258,-1.264516 0.541936,-1.908065 0.124193,-0.451613 0.36129,-0.869354 0.7,-1.208064 l 1.275806,-1.275807 C 42.296774,43.380645 42.85,42.037097 42.85,40.637097 c 0,-0.914517 -0.36129,-1.795161 -1.004839,-2.43871 l -1.546774,-1.546774 c -0.67742,-0.67742 -1.591936,-1.06129 -2.551613,-1.06129 h -7.553225 c -1.061291,-0.530646 -2.42742,-3.612903 -3.612903,-3.612903 -1.185485,0 -2.359679,-0.282259 -3.420969,-0.812904 l -1.253225,-0.620968 c -0.451613,-0.225806 -0.745162,-0.699999 -0.745162,-1.208064 0,-0.575807 0.372581,-1.095161 0.925807,-1.275807 l 3.52258,-1.174193 c 0.609678,-0.203226 1.275807,-0.06774 1.75,0.35 l 1.05,0.914516 c 0.169356,0.146774 0.372581,0.225807 0.587097,0.225807 h 0.632259 c 0.677419,0 1.106451,-0.711291 0.812903,-1.309678 l -1.761291,-3.52258 c -0.180645,-0.35 -0.101612,-0.779033 0.180645,-1.05 l 1.117743,-1.083872 C 30.148387,21.240323 30.374193,21.15 30.61129,21.15 h 1.01613 c 0.237096,0 0.474193,-0.09032 0.643547,-0.259677 l 0.903226,-0.903226 c 0.35,-0.35 0.35,-0.925807 0,-1.275807 l -0.530644,-0.530645 c -0.350001,-0.349999 -0.350001,-0.925806 0,-1.275806 l 1.162902,-1.162903 0.530646,-0.530646 c 0.7,-0.7 0.7,-1.851613 0,-2.551613 L 31.141936,9.464516 C 31.424193,9.453226 31.706451,9.419356 32,9.419356 c 8.829033,0 16.46129,5.103226 20.175807,12.498387 l -1.467743,0.733871 c -0.417741,0.214516 -0.779031,0.530646 -1.03871,0.914516 l -2.212903,3.319356 c -0.609677,0.914516 -0.609677,2.1 0,3.003225 L 49.48871,32.9371 c 0.37258,0.564515 0.948387,0.959677 1.591935,1.129031 l 3.296775,0.824194 C 53.158064,44.374193 46.033871,52.040323 36.820967,54.05 Z\\\"></path>\\r\\n                        </svg>\\r\\n                        {{ $ctrl.data.data.homepage.value[$ctrl.language] }}\\r\\n                    </a>\\r\\n                </span>\\r\\n            </p>\\r\\n            <!-- render the opening hours - but only if there are any-->\\r\\n            <!--div class=\\\"opening\\\"-->\\r\\n            <div ng-if=\\\"$ctrl.data.data.useage\\\" class=\\\"hours\\\">\\r\\n                <!--p><strong>Opening Hours for week #{{$ctrl.data.week.number}} // <br>{{$ctrl.data.week.start}} through {{$ctrl.data.week.end}} </strong></p-->\\r\\n                <p><strong>Öffnungszeiten für die aktuelle Woche</strong></p>\\r\\n                <!-- render the opening hour for a day in the current data object-->\\r\\n                <p ng-repeat=\\\"day in $ctrl.data.current\\\">\\r\\n                    <span class=\\\"day\\\">{{$ctrl.weekdayText(day.date)}}</span>\\r\\n                    <span ng-repeat=\\\"time in day.hours\\\" ng-if=\\\"day.hours.length>0 && day.hours[0].open != ''\\\">\\r\\n                        <span class=\\\"opening\\\" ng-if=\\\"time.open\\\">{{time.open}} - {{time.closed}}</span>                    \\r\\n                    </span>           \\r\\n                    <span ng-if=\\\"day.hours.length==0 || (day.hours.length>0 && day.hours[0].open == '')\\\" class=\\\"opening\\\">Geschlossen</span>\\r\\n                </p>                \\r\\n            </div>\\r\\n            <div>\\r\\n                <span ng-if='$ctrl.data.data.textinfo1'> \\r\\n                    <p>\\r\\n                        {{ $ctrl.data.data.textinfo1.value[$ctrl.language] }}\\r\\n                    </p>\\r\\n                </span>\\r\\n            </div>\\r\\n   \\r\\n            <div>\\r\\n                <span ng-if='$ctrl.data.data.infourl'> \\r\\n                    <p>\\r\\n                        <a target=\\\"_blank\\\" class=\\\"md-primoExplore-theme\\\" href=\\\"{{ $ctrl.data.data.infourl.value[$ctrl.language] }}\\\"> Weitere Information zu den Öffnungszeiten</a>\\r\\n                    </p>\\r\\n                </span>\\r\\n            </div>                     \\r\\n            <div ng-if=\\\"$ctrl.data.data.occupancy.value.maximum > 0\\\" class=\\\"occupancy\\\">\\r\\n                <div>\\r\\n                    <hr>\\r\\n                    <p><strong>Auslastung Arbeitsplätze: {{$ctrl.data.data.occupancy.value.current}} von {{$ctrl.data.data.occupancy.value.maximum}}</strong></p>\\r\\n                    <p><a href=\\\"https://rauminfo.zhbluzern.ch/\\\" target=\\\"_blank\\\">Rauminfo ZHB Luzern</a></p>\\r\\n                </div>\\r\\n            \\r\\n            </div>   \\r\\n\\r\\n        </div>\\r\\n        <div ng-if='$ctrl.data.data.image' flex=\\\"100\\\" flex-gt-sm=\\\"50\\\" class=\\\"flex-gt-sm-50 flex-100\\\">\\r\\n            <img style=\\\"width:90%;\\\" src=\\\"{{$ctrl.data.data.image.value[$ctrl.language]}}\\\">            \\r\\n        </div>\\r\\n         \\r\\n    </div>\\r\\n</div>\";\n// Exports\nexport default code;","// Module\nvar code = \"<div ng-if=\\\"$ctrl.name === 'search_also'\\\" class=\\\"idslu-furthersearch\\\">\\r\\n    <div ng-hide=\\\"$ctrl.parentCtrl.parentCtrl.facetGroup.facetGroupCollapsed\\\">\\r\\n      <div class=\\\"section-content animate-max-height-variable\\\">\\r\\n        <div class=\\\"md-chips md-chips-wrap\\\">\\r\\n          <div ng-repeat=\\\"target in $ctrl.targets\\\" aria-live=\\\"polite\\\" class=\\\"md-chip animate-opacity-and-scale facet-element-marker-local4\\\">\\r\\n            <div class=\\\"md-chip-content layout-row\\\" role=\\\"button\\\" tabindex=\\\"9\\\">\\r\\n              <strong dir=\\\"auto\\\" title=\\\"{{ target.name }}\\\">\\r\\n                <a ng-href=\\\"{{ target.url + target.mapping($ctrl.search) }}\\\" target=\\\"_blank\\\"  title=\\\"{{ (target.tooltip | translate )}}\\\">\\r\\n                  <img ng-src=\\\"{{ target.img }}\\\" width=\\\"22\\\" height=\\\"22\\\" style=\\\"vertical-align:middle;padding-right:2px;\\\"> {{ target.name }}\\r\\n                </a>\\r\\n              </strong>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  \";\n// Exports\nexport default code;","// Module\nvar code = \"<div layout=\\\"row\\\" class=\\\"bar alert-bar lbs-message-service\\\" layout-align=\\\"center center\\\">\\r\\n  <span class=\\\"bar-text\\\" ng-bind-html=\\\"ctrl.message\\\" style=\\\"display:flex\\\"></span>\\r\\n  <md-button ng-show=\\\"ctrl.onAction\\\" (click)=\\\"ctrl.onAction()\\\" class=\\\"dismiss-alert-button zero-margin\\\" ng-class=\\\"md-icon-button\\\">\\r\\n    <!--span hide-xs>{{ctrl.actionLabel}}</span-->\\r\\n    <span>{{ctrl.actionLabel}}</span>\\r\\n  </md-button>\\r\\n  <md-divider></md-divider>\\r\\n  <md-button aria-label=\\\"{{::('nui.message.dismiss' | translate)}}\\\" (click)=\\\"ctrl.onClose()\\\" class=\\\"dismiss-alert-button zero-margin\\\" ng-class=\\\"md-icon-button\\\">\\r\\n    <span translate=\\\"nui.message.dismiss\\\"></span>\\r\\n    <!--span translate=\\\"nui.message.dismiss\\\" hide-xs></span-->\\r\\n  </md-button>\\r\\n</div>\\r\\n\";\n// Exports\nexport default code;","export class ethOpenurlInterlibraryController {\r\n\r\n    constructor( $location, ethConfigService, ethOpenurlInterlibraryConfig ) {\r\n        this.$location = $location;\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethOpenurlInterlibraryConfig;\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.openurl = false;\r\n            this.qs = '?';\r\n            if (!this.$location.$$path) {\r\n                console.error(\"***ETH*** ethOpenurlInterlibraryController.$onInit: $$path not available\");\r\n                return;\r\n            }\r\n            if(this.$location.$$path.indexOf('openurl')>-1){\r\n                let s = this.$location.$$search;\r\n                this.openurl = true;\r\n\r\n                let oQs = {};\r\n                if(s['rft.jtitle']){\r\n                    oQs = {\r\n                        'jtitle': s['rft.jtitle'],\r\n                        'au': s['rft.aufirst'] + ' ' + s['rft.aulast'],\r\n                        'atitle': s['rft.atitle'],\r\n                        'date': s['rft.date'],\r\n                        'issn': s['rft.issn'],\r\n                        'volume': s['rft.volume'],\r\n                        'pages': s['rft.pages'],\r\n                        'rft_id': s['rft_id']\r\n                    }\r\n                }\r\n                else if(s['title']){\r\n                    let pages = '';\r\n                    if(s['pages'] && s['pages'] != ''){\r\n                        pages = s['pages'];\r\n                    }\r\n                    else if(s['spages'] && s['epages']){\r\n                        pages = s['spages'] + '-' + s['epages'];\r\n                    }\r\n\r\n                    let issnOrIsbn = '';\r\n                    if(s['issn'] && s['issn'] != ''){\r\n                        issnOrIsbn = s['issn'];\r\n                    }\r\n                    else if(s['isbn'] && s['isbn'] != ''){\r\n                        issnOrIsbn = s['isbn'];\r\n                    }\r\n\r\n                    oQs = {\r\n                        'jtitle': s['title'],\r\n                        'au': s['aufirst'] + ' ' + s['aulast'],\r\n                        'atitle': s['atitle'],\r\n                        'date': s['date'],\r\n                        'issn': issnOrIsbn,\r\n                        'volume': s['volume'],\r\n                        'pages': pages,\r\n                        'rft_id': s['id'],\r\n                    }\r\n                }\r\n                let aQs = [];\r\n                for (const item in oQs) {\r\n                    if(oQs[item]){\r\n                        aQs.push(item + '=' + encodeURIComponent(oQs[item]));\r\n                    }\r\n                }\r\n                this.qs += aQs.join('&');\r\n                document.querySelector('alma-htgi-svc').classList.add('eth-servicepage');\r\n            }\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethOpenurlInterlibraryController $onInit\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n}\r\n\r\nethOpenurlInterlibraryController.$inject = ['$location', 'ethConfigService', 'ethOpenurlInterlibraryConfig' ];\r\n","/**\r\n* @ngdoc module\r\n* @name ethOpenurlInterlibraryModule\r\n*\r\n* @description\r\n*\r\n* Customization of the \"how to getit\" section:<br>\r\n* - add link to an interlibrary loan form, if page is a service page (openurl)\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service /ja/services/eth-config.service.js {@link ETH.ethConfigService}<br>\r\n*\r\n* <b>CSS Dependencies</b><br>\r\n* CSS /css/eth-openurl-interlibrary.css\r\n*\r\n*/\r\nimport {ethConfigService} from './services/eth-config.service';\r\nimport {ethOpenurlInterlibraryConfig} from './eth-openurl-interlibrary.config';\r\nimport {ethOpenurlInterlibraryController} from './eth-openurl-interlibrary.controller';\r\nimport {ethOpenurlInterlibraryHtml} from './eth-openurl-interlibrary.html';\r\n\r\nexport const ethOpenurlInterlibraryModule = angular\r\n    .module('ethOpenurlInterlibraryModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethOpenurlInterlibraryConfig', ethOpenurlInterlibraryConfig)\r\n        .controller('ethOpenurlInterlibraryController', ethOpenurlInterlibraryController)\r\n        .component('ethOpenurlInterlibraryComponent', {\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethOpenurlInterlibraryController',\r\n            template: ethOpenurlInterlibraryHtml\r\n        })\r\n","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","export const ethPersonCardConfig = function(){\r\n    return {\r\n        whitelistFindbuch:[\"ba.e-pics.ethz.ch\",\"e-codices.unifr.ch\",\r\n                                \"deutsche-biographie.de\", \"deutsche-digitale-bibliothek.de\",\r\n                                \"www.hdg.de/lemo/html/biografien/\",\"beacon.findbuch.de/gnd-resolver/pw_tls/\", \"www.perlentaucher.de/autor/\",\"archinform.net/gnd/\",\r\n                                \"www.gutenberg.org/ebooks/author/\",\"beacon.findbuch.de/gnd-resolver/pw_mactut/\",\"beacon.findbuch.de/gnd-resolver/pw_imdb/\"\r\n                            ],\r\n        whitelistMetagrid: [\"hallernet\", \"fotostiftung\", \"sikart\",\"elites-suisses-au-xxe-siecle\",\"bsg\", \"dodis\", \"helveticarchives\", \"helveticat\", \"hls-dhs-dss\", \"histoirerurale\",\"lonsea\",\"ssrq\",\"alfred-escher\",\"geschichtedersozialensicherheit\"],\r\n        sourcesMetagrid: {\r\n            label: {\r\n                'hallernet': {\r\n                    de: 'Editions- und Forschungsplattform hallerNet',\r\n                    en: 'Editions- und Forschungsplattform hallerNet',\r\n                    fr: 'Editions- und Forschungsplattform hallerNet',\r\n                    it: 'Editions- und Forschungsplattform hallerNet'\r\n                },\r\n                'fotostiftung': {\r\n                    de: 'Fotostiftung Schweiz',\r\n                    en: 'Fotostiftung Schweiz',\r\n                    fr: 'Fotostiftung Schweiz',\r\n                    it: 'Fotostiftung Schweiz'\r\n                },\r\n                'sikart': {\r\n                    de: 'SIKART',\r\n                    en: 'SIKART',\r\n                    fr: 'SIKART',\r\n                    it: 'SIKART'\r\n                },\r\n                'elites-suisses-au-xxe-siecle': {\r\n                    de: 'Schweizerische Eliten im 20. Jahrhundert',\r\n                    en: 'Swiss elites database',\r\n                    fr: 'Elites suisses au XXe siècle',\r\n                    it: 'Elites suisses au XXe siècle'\r\n                },\r\n                'bsg': {\r\n                    de: 'Bibliographie der Schweizergeschichte',\r\n                    en: 'Bibliography on Swiss History',\r\n                    fr: 'Bibliographie de l\\'histoire suisse',\r\n                    it: 'Bibliografia della storia svizzera'\r\n\r\n                },\r\n                'dodis': {\r\n                    de: 'Diplomatische Dokumente der Schweiz',\r\n                    en: 'Diplomatic Documents of Switzerland',\r\n                    fr: 'Documents diplomatiques suisses',\r\n                    it: 'Documenti diplomatici svizzeri'\r\n                },\r\n                'helveticat': {\r\n                    de: 'Helveticat',\r\n                    en: 'Helveticat',\r\n                    fr: 'Helveticat',\r\n                    it: 'Helveticat'\r\n                },\r\n                'hls-dhs-dss': {\r\n                    de: 'Historisches Lexikon der Schweiz',\r\n                    en: 'Historical Dictionary of Switzerland',\r\n                    fr: 'Dictionnaire historique de la Suisse',\r\n                    it: 'Dizionario storico della Svizzera'\r\n                },\r\n                'histoirerurale': {\r\n                    de: 'Archiv für Agrargeschichte',\r\n                    en: 'Archives of rural history',\r\n                    fr: 'Archives de l\\'histoire rurale',\r\n                    it: 'Archivio della storia rurale'\r\n                },\r\n                'lonsea': {\r\n                    de: 'Lonsea',\r\n                    en: 'Lonsea',\r\n                    fr: 'Lonsea',\r\n                    it: 'Lonsea'\r\n                },\r\n                'ssrq': {\r\n                    de: 'Sammlung Schweizerischer Rechtsquellen',\r\n                    en: 'Collection of Swiss Law Sources',\r\n                    fr: 'Collection des sources du droit suisse',\r\n                    it: 'Collana Fonti del diritto svizzero'\r\n                },\r\n                'alfred-escher': {\r\n                    de: 'Alfred Escher-Briefedition',\r\n                    en: 'Alfred Escher letters edition',\r\n                    fr: 'Edition des lettres Alfred Escher',\r\n                    it: 'Edizione lettere Alfred Escher'\r\n                },\r\n                'geschichtedersozialensicherheit': {\r\n                    de: 'Geschichte der sozialen Sicherheit',\r\n                    en: 'Geschichte der sozialen Sicherheit',\r\n                    fr: 'Histoire de la sécurité sociale',\r\n                    it: 'Storia della sicurezza sociale'\r\n                }\r\n            }\r\n        },\r\n        label: {\r\n            personCardLink: {\r\n                de: 'Mehr Informationen zur Person',\r\n                en: 'More informations'\r\n            },\r\n            closePersonCard: {\r\n                de: 'Personenkarte schliessen',\r\n                en: 'Close personcard'\r\n            },\r\n            imgLicense: {\r\n                de: 'Lizenz für das Bild siehe',\r\n                en: 'Information regarding the license status of embedded media files',\r\n            },\r\n            moreInformations: {\r\n                de: 'Mehr Informationen zur Person',\r\n                en: 'More information about the person'\r\n            },\r\n            infoGndWd: {\r\n                de: 'Informationen aus Wikidata und der GND',\r\n                en: 'Information from Wikidata and the GND'\r\n            },\r\n            archiveLinks: {\r\n                de: 'Links in Archive',\r\n                en: 'Links in archives'\r\n            },\r\n            researcherProfile: {\r\n                de: 'Forscherprofile via IDs aus Wikidata',\r\n                en: 'Researcher profiles via IDs from Wikidata'\r\n            },\r\n            linkOrcid: {\r\n                de: 'ORCID Profil',\r\n                en: 'ORCID record'\r\n            },\r\n            linkPublon: {\r\n                de: 'Publons Profil',\r\n                en: 'Publons profile'\r\n            },\r\n            linkScholar: {\r\n                de: 'Google Scholar Profil',\r\n                en: 'Google Scholar profile'\r\n            },\r\n            linkScopus: {\r\n                de: 'Scopus author details',\r\n                en: 'Scopus author details'\r\n            },\r\n            linkResearchgate: {\r\n                de: 'ResearchGate Profil',\r\n                en: 'ResearchGate profile'\r\n            },\r\n            linkMendeley: {\r\n                de: 'Mendeley Profil',\r\n                en: 'Mendeley profile'\r\n            },\r\n            linkDimension: {\r\n                de: 'Dimensions Profil',\r\n                en: 'Dimensions profile'\r\n            },\r\n            linksWD: {\r\n                de: 'Links aus Wikidata',\r\n                en: 'Links from Wikidata'\r\n            },\r\n            linksMetagrid: {\r\n                de: 'Links von Metagrid',\r\n                en: 'Links from Metagrid'\r\n            },\r\n            linksFindbuch: {\r\n                de: 'Links von beacon.findbuch',\r\n                en: 'Links from beacon.findbuch'\r\n            },\r\n            linksFindbuchHint1: {\r\n                de: 'Links von dem SeeAlso-Service',\r\n                en: 'Links from the SeeAlso-Service'\r\n            },\r\n            linksFindbuchHint2: {\r\n                de: 'der auf',\r\n                en: 'which is based on'\r\n            },\r\n            linksFindbuchHint3: {\r\n                de: 'basiert',\r\n                en: ''\r\n            },\r\n            born: {\r\n                de: 'Geboren',\r\n                en: 'Born'\r\n            },\r\n            died: {\r\n                de: 'Gestorben',\r\n                en: 'Died'\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class ethPersonCardController {\r\n    // 99117239392005503 - multiple persons External Data\r\n    // 990066667580205503 or 991130796959705501 - Alma\r\n    // 991102492829705501 - multiple persons Alma\r\n    constructor( ethConfigService, ethPersonCardConfig, ethPersonCardService, $scope, $compile, $anchorScroll, $location) {\r\n        this.ethConfigService = ethConfigService;\r\n        this.config = ethPersonCardConfig;\r\n        this.ethPersonCardService = ethPersonCardService;\r\n        this.$scope = $scope;\r\n        this.$compile = $compile;\r\n        this.$anchorScroll = $anchorScroll;\r\n        this.$location = $location;\r\n    }\r\n\r\n    $onInit() {\r\n        try{\r\n            this.parentCtrl = this.afterCtrl.parentCtrl;\r\n            this.lang = this.ethConfigService.getLanguage();\r\n            this.doCheck = true;\r\n            // array of gnd ids in the details section\r\n            this.gndIds = [];\r\n            // array of person objects\r\n            this.persons = [];\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardController.$onInit()\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    $doCheck() {\r\n        try{\r\n            // wait until details informations are loaded\r\n            if(!this.parentCtrl._details || !this.doCheck)\r\n            {\r\n                return;\r\n            }\r\n            // parentCtrl._details is loaded -> work should be done only once\r\n            this.doCheck = false;\r\n            let linktext = this.ethConfigService.getLabel(this.config, 'personCardLink');\r\n\r\n            // filter gnd links (Alma) and texts (ED: name: gndid)\r\n            let aLds03Details = this.parentCtrl._details.filter( d => {\r\n                if(d.label === 'lds03'){return true;}\r\n                else {return false;}\r\n            })\r\n            // no gnd links or texts in details section\r\n            if(aLds03Details.length === 0){return;}\r\n\r\n            // extract gndids from links or texts\r\n            // and push it to array this.gndIds\r\n            aLds03Details[0].values[0].values.forEach( l => {\r\n                // gnd link\r\n                if(l.indexOf('href=\"http://d-nb.info/gnd/')>-1){\r\n                    let href1 = l.substring(l.indexOf('href=\"') + 6);\r\n                    let href = href1.substring(0,href1.indexOf('\"'));\r\n                    let gnd = href.substring(href.lastIndexOf('/') + 1)\r\n                    this.gndIds.push(gnd);\r\n                }\r\n                // gnd text (name: gndid)\r\n                else if (l.indexOf(': ') > -1) {\r\n                    let part = l.substring(l.indexOf(': ') + 2);\r\n                    if(part.indexOf('(DE-588)') > -1){\r\n                        this.gndIds.push(part.replace('(DE-588)',''));\r\n                    }\r\n                    else{\r\n                        this.gndIds.push(part);\r\n                    }\r\n                }\r\n            })\r\n            // request for informations from various providers\r\n            this.gndIds.forEach(gnd => {\r\n                this.ethPersonCardService.getPerson(gnd, this.lang)\r\n                    .then((data) => {\r\n                        try{\r\n                            if(!data || !data.gnd || !data.results || data.results.length === 0)\r\n                            {\r\n                                return;\r\n                            }\r\n                            // construct a person object from different data sources\r\n                            let p = this.ethPersonCardService.processPersonsResponse(data.results, this.ethConfigService, this.config, this.lang);\r\n                            // is p realy a person (or a subject ...)?\r\n                            if(p.gnd && ((p.entityfacts && p.entityfacts.preferredName) || (p.wiki &&p.wiki.links) || (p.findbuchLinks && p.findbuchLinks.length > 0) || (p.metagridLinks && p.metagridLinks.length > 0))  && !document.getElementById('personcard' + p.gnd)){\r\n                                // push to person object array\r\n                                // which is used for template rendering\r\n                                this.persons.push(p);\r\n                                // insert a person card toggle link next to the GND link\r\n                                // ALMA: GND Link\r\n                                let aGNDLinks = document.querySelectorAll(\".item-details-element a[href='http://d-nb.info/gnd/\" + p.gnd + \"']\");\r\n                                if(aGNDLinks.length > 0){\r\n                                    aGNDLinks.forEach(a => {\r\n                                        a.parentNode.classList.add(\"eth-personcard-link-row\");\r\n                                        p.detailsGndLink = a;\r\n                                    });\r\n                                    if(p.detailsGndLink){\r\n                                        let html = `\r\n                                        <md-button id=\"personcardlink${p.gnd}\" class=\"eth-personcard-link md-primary\" ng-click=\"$ctrl.toggleCard('${p.gnd}')\" aria-controls=\"personcard${p.gnd}\" aria-expanded=\"false\">\r\n                                            <span>${linktext}</span>\r\n                                            <prm-icon link-arrow external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\"></prm-icon>\r\n                                            <div class=\"personcard-link__down\"/>\r\n                                        </md-button>\r\n                                        `;\r\n                                        angular.element(p.detailsGndLink).after(this.$compile(html)(this.$scope));\r\n                                    }\r\n                                }\r\n                                else{\r\n                                    // External Data: Gnd part of text\r\n                                    let aDetailsParts = Array.from(document.querySelectorAll('prm-service-details div[ng-repeat]'));\r\n                                    let aGNDParts = aDetailsParts.filter(e => {\r\n                                        let label = e.querySelector(\"[data-details-label]\");\r\n                                        if(label && label.getAttribute(\"data-details-label\") === \"lds03\"){\r\n                                            return true;\r\n                                        }\r\n                                        else{\r\n                                            return false;\r\n                                        }\r\n                                    })\r\n                                    if(aGNDParts.length === 0){\r\n                                        return;\r\n                                    }\r\n                                    let aSpan = aGNDParts[0].querySelectorAll(\".item-details-element [ng-show='!value.isLinkable']  span\");\r\n                                    aSpan.forEach(s => {\r\n                                        if(s && s.textContent && s.textContent.indexOf(p.gnd) > -1){\r\n                                            if(!document.getElementById('personpage' + p.gnd)){\r\n                                                s.parentNode.classList.add(\"eth-personcard-link-row\");\r\n                                                p.detailsGndLink = s;\r\n                                                let html = `\r\n                                                <md-button id=\"personcardlink${p.gnd}\" class=\"eth-personcard-link md-primary\" ng-click=\"$ctrl.toggleCard('${p.gnd}')\" aria-controls=\"personcard${p.gnd}\" aria-expanded=\"false\">\r\n                                                    <span>${linktext}</span>\r\n                                                    <prm-icon link-arrow external-link icon-type=\"svg\" svg-icon-set=\"primo-ui\" icon-definition=\"chevron-right\"></prm-icon>\r\n                                                    <div class=\"personcard-link__down\"/>\r\n                                                </md-button>\r\n                                                `;\r\n                                                angular.element(p.detailsGndLink).after(this.$compile(html)(this.$scope));\r\n                                            }\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                        catch(e){\r\n                            console.error(\"***ETH*** an error occured: ethPersonCardController:ethPersonCardService.getPerson(): \\n\\n\");\r\n                            console.error(e.message);\r\n                            throw(e);\r\n                        }\r\n                    });\r\n            });\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardController.$doCheck()\\n\\n\");\r\n            console.error(e.message);\r\n        }\r\n    }\r\n\r\n    toggleCard(gnd){\r\n        let cont = document.getElementById('personcard' + gnd);\r\n        if(!cont)return;\r\n        let link = document.getElementById('personcardlink' + gnd);\r\n        angular.element(cont).toggleClass('eth-person__facts-visible');\r\n        angular.element(link).toggleClass('eth-personcard-link-opened');\r\n        if(angular.element(link).hasClass('eth-personcard-link-opened')){\r\n            this.scrollTo('personcard' + gnd + '-anchor');\r\n            angular.element(link).attr('aria-expanded','true');\r\n        }\r\n        else{\r\n            angular.element(link).attr('aria-expanded','false');\r\n        }\r\n        return;\r\n    }\r\n\r\n    scrollTo(anchorName){\r\n        this.$anchorScroll.yOffset = 200;\r\n        this.$anchorScroll(anchorName);\r\n        return;\r\n    }\r\n}\r\n\r\nethPersonCardController.$inject = ['ethConfigService', 'ethPersonCardConfig', 'ethPersonCardService', '$scope', '$compile', '$anchorScroll', '$location'];\r\n","/**\r\n* @ngdoc module\r\n* @name ethPersonCardModule\r\n*\r\n* @description\r\n*\r\n* - enhances fullview by person cards\r\n* - based on gnd id in lds03\r\n* - checks beacon.findbuch, metagrid, entityfacts (DNB), wikidata for person informations and links\r\n*\r\n* <b>AngularJS Dependencies</b><br>\r\n* Service ./services {@link ETH.ethConfigService}<br>\r\n* Service {@link ETH.ethPersonCardConfig}<br>\r\n* Service {@link ETH.ethPersonCardService}<br>\r\n*\r\n*\r\n* <b>CSS/Image Dependencies</b><br>\r\n* CSS css/eth-person-card.css\r\n* IMG img/chevron_down.png\r\n* IMG img/close1.png\r\n* IMG img/close2.png\r\n*\r\n*\r\n*/\r\nimport {ethConfigService} from './services/eth-config.service';\r\nimport {ethPersonCardConfig} from './eth-person-card.config';\r\nimport {ethPersonCardHtml} from './eth-person-card.html';\r\nimport {ethPersonCardService} from './eth-person-card.service';\r\nimport {ethPersonCardController} from './eth-person-card.controller';\r\n\r\nexport const ethPersonCardModule = angular\r\n    .module('ethPersonCardModule', [])\r\n        .factory('ethConfigService', ethConfigService)\r\n        .factory('ethPersonCardConfig', ethPersonCardConfig)\r\n        .factory('ethPersonCardService', ethPersonCardService)\r\n        .controller('ethPersonCardController', ethPersonCardController)\r\n        .component('ethPersonCardComponent',{\r\n            bindings: {afterCtrl: '<'},\r\n            controller: 'ethPersonCardController',\r\n            template: ethPersonCardHtml\r\n        })\r\n        .config(['$sceDelegateProvider', ($sceDelegateProvider) => {\r\n            let whitelist = $sceDelegateProvider.resourceUrlWhitelist();\r\n            $sceDelegateProvider.resourceUrlWhitelist( whitelist.concat([\r\n                        'https://beacon.findbuch.de/seealso/pnd-aks**'\r\n                    ]));\r\n          }]);\r\n","export const ethPersonCardService = ['$http', '$q', function($http, $q){\r\n\r\n    function getPerson(gnd, lang){\r\n        // promise for Metagrid\r\n        let url1 = \"https://api.metagrid.ch/search?group=1&skip=0&take=50&provider=gnd&query=\" + gnd;\r\n        let promise1 = $http.get(url1)\r\n            .then(function (response) {\r\n                return response;\r\n            });\r\n\r\n        // promise for Entityfacts\r\n        let url2 = \"https://hub.culturegraph.org/entityfacts/\" + gnd;\r\n        let promise2 = $http.get(url2)\r\n            .then(function (response) {\r\n                return response;\r\n            });\r\n\r\n        // promise for beacon.findbuch - only jsonp, not get\r\n        const url3 = \"https://beacon.findbuch.de/seealso/pnd-aks?format=seealso&id=\" + gnd;\r\n        let promise3 = $http.jsonp(url3)\r\n        .then(function (response) {\r\n            return response;\r\n        });\r\n\r\n        // promise for Wikidata\r\n        let sparqlQuery1 = `SELECT ?item ?itemLabel ?itemDescription ?birth ?death ?birthplaceLabel ?deathplaceLabel ?image ?gnd ?sfa ?hls ?loc ?archived ?wc ?orcid ?publonid ?scholar ?scopus ?researchgate ?mendeley ?dimension ?ordinal\r\n                (group_concat(DISTINCT(?aliasLabel) ;separator = \"|\") as ?aliasList )\r\n        WHERE {\r\n          ?item wdt:P227 \"${gnd}\".\r\n          ?item wdt:P31 wd:Q5.\r\n          OPTIONAL {?item wdt:P569 ?birth.}\r\n          OPTIONAL {?item wdt:P19 ?birthplace.}\r\n          OPTIONAL {?item wdt:P570 ?death.}\r\n          OPTIONAL {?item wdt:P20 ?deathplace.}\r\n          OPTIONAL {?item wdt:P18 ?image.}\r\n          OPTIONAL {?item wdt:P227 ?gnd.}\r\n          OPTIONAL {?item wdt:P3889 ?sfa.}\r\n          OPTIONAL {?item wdt:P902 ?hls.}\r\n          OPTIONAL {?item wdt:P244 ?loc.}\r\n          OPTIONAL {?item wdt:P485 ?archived.}\r\n          OPTIONAL {?item wdt:P373 ?wc.}\r\n          OPTIONAL {?item wdt:P496 ?orcid.}\r\n          OPTIONAL {?item wdt:P3829 ?publonid.}\r\n          OPTIONAL {?item wdt:P1960 ?scholar.}\r\n          OPTIONAL {?item wdt:P1153 ?scopus.}\r\n          OPTIONAL {?item wdt:P2038 ?researchgate.}\r\n          OPTIONAL {?item wdt:P3835 ?mendeley.}\r\n          OPTIONAL {?item wdt:P6178 ?dimension.}\r\n\r\n          OPTIONAL {?item (rdfs:label|skos:altLabel|wdt:P1449) ?alias.}\r\n          SERVICE wikibase:label { bd:serviceParam wikibase:language \"${lang}\".\r\n                                  ?alias rdfs:label ?aliasLabel .\r\n                                  ?item schema:description ?itemDescription .\r\n                                  ?item rdfs:label ?itemLabel .}\r\n        }\r\n        GROUP BY ?item ?itemLabel ?itemDescription ?birth ?death ?birthplaceLabel ?deathplaceLabel ?image ?gnd ?sfa ?hls ?loc ?archived ?wc ?orcid ?publonid ?scholar ?scopus ?researchgate ?mendeley ?dimension ?ordinal\r\n         ORDER BY ASC(?ordinal)\r\n         LIMIT 100\r\n        `;\r\n        let url4 = \"https://query.wikidata.org/sparql?query=\" + sparqlQuery1;\r\n        let promise4 = $http.get(url4)\r\n            .then(function (response) {\r\n                return response;\r\n            });\r\n\r\n        // promise for Wikidata 'archived at'\r\n        let sparqlQuery2 = `\r\n        SELECT ?gnd ?statement ?archived ?archivedLabel ?refnode  ?ref ?inventoryno\r\n        where{\r\n            ?item wdt:P227 \"${gnd}\".\r\n            ?item p:P485 ?statement.\r\n            ?item wdt:P227 ?gnd.\r\n            ?statement ps:P485 ?archived.\r\n            OPTIONAL{?statement pq:P217 ?inventoryno.}\r\n            OPTIONAL{ ?statement prov:wasDerivedFrom ?refnode.\r\n              ?refnode pr:P854 ?ref.\r\n            }\r\n            SERVICE wikibase:label { bd:serviceParam wikibase:language \"${lang}\". }\r\n        }`;\r\n        let url5 = \"https://query.wikidata.org/sparql?query=\" + sparqlQuery2;\r\n        let promise5 = $http.get(url5)\r\n            .then(function (response) {\r\n                return response;\r\n            });\r\n\r\n        // a rejected promise (e.g. 404) should not reject all promises\r\n        // https://gist.github.com/mzipay/78ce922b717d60899953\r\n        return $q(function(resolve, reject) {\r\n            $q.all(\r\n                [\r\n                promise1.then(keepResponse).catch(keepError),\r\n                promise2.then(keepResponse).catch(keepError),\r\n                promise3.then(keepResponse).catch(keepError),\r\n                promise4.then(keepResponse).catch(keepError),\r\n                promise5.then(keepResponse).catch(keepError)\r\n                ]\r\n            )\r\n            .then(function(responses) {\r\n                resolve(responses);\r\n            })\r\n        })\r\n        .then(function(responses) {\r\n            let resp = {};\r\n            resp.gnd = gnd;\r\n            resp.qid = [];\r\n            resp.results = [];\r\n            responses.forEach(r => {\r\n                let o = {'provider':'','gnd':'','resp':{},'status':''};\r\n                // entityfacts\r\n                if(r.data && r.data['@context'] && r.data['@context'].indexOf('hub.culturegraph.org') > -1){\r\n                    o.resp = r.data;\r\n                    o.status = r.status;\r\n                    o.gnd = r.data['@id'].substring(r.data['@id'].lastIndexOf('/') + 1);\r\n                    o.provider = 'hub.culturegraph.org';\r\n                    resp.results.push(o);\r\n                }\r\n                // metagrid\r\n                else if(r.data && r.data.meta && r.data.meta.uri && r.data.meta.uri.indexOf('api.metagrid.ch') > -1){\r\n                    o.resp = r.data;\r\n                    o.status = r.status;\r\n                    o.gnd = r.data.meta.uri.substring(r.data.meta.uri.indexOf('query=') + 6);\r\n                    o.gnd = o.gnd.substring(0, o.gnd.indexOf('&'));\r\n                    o.provider = 'api.metagrid.ch';\r\n                    resp.results.push(o);\r\n                }\r\n                // findbuch pnd-aks\r\n                else if(r.data && r.data.length === 4 && r.data[0] && r.data[0].indexOf('d-nb.info/gnd') > -1){\r\n                    o.resp = r.data;\r\n                    o.status = r.status;\r\n                    o.gnd = r.data[0].substring(r.data[0].indexOf('gnd/') + 4);\r\n                    o.provider = 'beacon.findbuch.de/seealso/pnd-aks';\r\n                    resp.results.push(o);\r\n\r\n                }\r\n                // wikidata query service\r\n                else if(r.data && r.data.head && r.data.head.vars) {\r\n                    o.provider = 'query.wikidata.org';\r\n                    o.status = r.status;\r\n                    if(r.data.results.bindings.length > 0){\r\n                        o.resp = r.data;\r\n                        if(r.data.results.bindings[0].gnd){\r\n                            o.gnd = r.data.results.bindings[0].gnd.value;\r\n                        }\r\n                        if(r.data.results.bindings[0].birth && r.data.results.bindings[0].item){\r\n                            resp.qid.push(r.data.results.bindings[0].item.value.substring(r.data.results.bindings[0].item.value.lastIndexOf('/')+1));\r\n                        }\r\n                        resp.results.push(o);\r\n                    }\r\n                }\r\n\r\n            })\r\n            return resp;\r\n        })\r\n        .catch(function(e) {\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.getPerson(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n            return null;\r\n        })\r\n\r\n    }\r\n\r\n    function processFindbuchResponse(findbuchResult, ethConfigService, config){\r\n        try{\r\n            let sourcesWhitelist = config.whitelistFindbuch;\r\n            let whitelistedFindbuchLinks = [];\r\n            let alreadyFoundUrls = [];\r\n\r\n            for(var j = 0; j < findbuchResult[0].resp[1].length; j++){\r\n                let isWhitelisted = false;\r\n                let url = findbuchResult[0].resp[3][j];\r\n                let path = url;\r\n                if (url.indexOf(\"?\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"?\"));\r\n                }\r\n                // Für NDB und ADB nur einen Link\r\n                if (url.indexOf(\"#ndbcontent\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"#ndbcontent\"))\r\n                }\r\n                else if (url.indexOf(\"#adbcontent\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"#adbcontent\"));\r\n                }\r\n                else if (url.indexOf(\"#allcontent\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"#allcontent\"));\r\n                }\r\n                else if (url.indexOf(\"#indexcontent\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"#indexcontent\"));\r\n                }\r\n                if (path.indexOf(\"http://www.deutsche-biographie.de\")>-1){\r\n                    path = path.replace(/http:/,'https:');\r\n                }\r\n                if (url.indexOf(\"gnd-resolver/pw_tls/\")>-1){\r\n                    path = url.substring(0, url.indexOf(\"pw_tls/\") + 7);\r\n                }\r\n                for(var k=0;k<sourcesWhitelist.length;k++){\r\n                    if(url.indexOf(sourcesWhitelist[k])>-1)\r\n                            isWhitelisted = true;\r\n                }\r\n                if (!isWhitelisted || alreadyFoundUrls.indexOf(path)>-1)\r\n                        continue;\r\n\r\n                let label = findbuchResult[0].resp[1][j];\r\n                whitelistedFindbuchLinks.push({'url': url, 'label': label});\r\n                alreadyFoundUrls.push(path);\r\n            }\r\n            return whitelistedFindbuchLinks;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processFindbuchResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    function processEntityfactsResponse(entityfactsResult){\r\n        try{\r\n            let entityfacts = {};\r\n            if (entityfactsResult[0].resp['@type'] !== 'person')return null;\r\n            if(entityfactsResult[0].resp.preferredName)entityfacts.preferredName = entityfactsResult[0].resp.preferredName;\r\n            if(entityfactsResult[0].resp.biographicalOrHistoricalInformation)entityfacts.biographicalOrHistoricalInformation = entityfactsResult[0].resp.biographicalOrHistoricalInformation;\r\n            if(entityfactsResult[0].resp.professionOrOccupation)entityfacts.professionOrOccupation = entityfactsResult[0].resp.professionOrOccupation[0].preferredName;\r\n            if(entityfactsResult[0].resp.placeOfBirth)entityfacts.placeOfBirth = entityfactsResult[0].resp.placeOfBirth[0].preferredName;\r\n            if(entityfactsResult[0].resp.dateOfBirth)entityfacts.dateOfBirth = entityfactsResult[0].resp.dateOfBirth;\r\n            if(entityfactsResult[0].resp.placeOfDeath)entityfacts.placeOfDeath = entityfactsResult[0].resp.placeOfDeath[0].preferredName;\r\n            if(entityfactsResult[0].resp.dateOfDeath)entityfacts.dateOfDeath = entityfactsResult[0].resp.dateOfDeath;\r\n            if(entityfactsResult[0].resp.depiction)entityfacts.depiction = entityfactsResult[0].resp.depiction;\r\n            return entityfacts;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processEntityfactsResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    function processWikiResponse(wikiResult, ethConfigService, config){\r\n        try{\r\n            if(!wikiResult[0] || !wikiResult[0].resp.results.bindings || wikiResult[0].resp.results.bindings.length === 0){\r\n                return;\r\n            }\r\n            let wiki = {};\r\n            let binding = wikiResult[0].resp.results.bindings[0];\r\n            wiki.qid = binding.item ? binding.item.value.substring(binding.item.value.lastIndexOf('/')+1) : null;\r\n            wiki.label = binding.itemLabel ? binding.itemLabel.value : null;\r\n            wiki.image_url = binding.image ? binding.image.value : null;\r\n            wiki.description = binding.itemDescription ? binding.itemDescription.value : null;\r\n            wiki.gnd = binding.gnd ? binding.gnd.value : null;\r\n            wiki.birth = binding.birth ? binding.birth.value : null;\r\n            wiki.death = binding.death ? binding.death.value : null;\r\n            wiki.birthplace = binding.birthplaceLabel ? binding.birthplaceLabel.value : null;\r\n            wiki.deathplace = binding.deathplaceLabel ? binding.deathplaceLabel.value : null;\r\n            wiki.aVariants = binding.aliasList ? binding.aliasList.value.split('|') : null;\r\n            if(wiki.aVariants && wiki.aVariants.indexOf(wiki.label) === -1){\r\n                wiki.aVariants.unshift(wiki.label);\r\n            }\r\n            wiki.links = [];\r\n            if(binding.item && binding.item.value)wiki.links.push({'url': binding.item.value, 'label': 'Wikidata'});\r\n            if(binding.wc && binding.wc.value)wiki.links.push({'url': 'https://commons.wikimedia.org/wiki/Category:' + binding.wc.value , 'label': 'Wikimedia Commons'});\r\n            if(binding.hls && binding.hls.value)wiki.links.push({'url': 'http://www.hls-dhs-dss.ch/textes/d/D' + binding.hls.value + '.php', 'label': 'Historisches Lexikon der Schweiz'});\r\n            if(binding.gnd && binding.gnd.value)wiki.links.push({'url': 'https://d-nb.info/gnd/' + binding.gnd.value, 'label': 'GND (Gemeinsame Normdatei der Deutschen Nationalbibliothek)'});\r\n            if(binding.sfa && binding.sfa.value)wiki.links.push({'url': 'https://www.swiss-archives.ch/archivplansuche.aspx?ID=' + binding.sfa.value, 'label': 'Schweizerisches Bundesarchiv'});\r\n            if(binding.loc && binding.loc.value)wiki.links.push({'url': 'http://id.loc.gov/authorities/names/' + binding.loc.value + '.html', 'label': 'Library of Congress'});\r\n            wiki.profiles = [];\r\n            if(binding.orcid && binding.orcid.value)wiki.profiles.push({'url': 'https://orcid.org/' + binding.orcid.value, 'label': ethConfigService.getLabel(config, 'linkOrcid')});\r\n            if(binding.publonid && binding.publonid.value)wiki.profiles.push({'url': 'https://publons.com/researcher/' + binding.publonid.value, 'label': ethConfigService.getLabel(config, 'linkPublon')});\r\n            if(binding.scholar && binding.scholar.value)wiki.profiles.push({'url': 'https://scholar.google.com/citations?user=' + binding.scholar.value, 'label': ethConfigService.getLabel(config, 'linkScholar')});\r\n            if(binding.scopus && binding.scopus.value)wiki.profiles.push({'url': 'https://www.scopus.com/authid/detail.uri?authorId=' + binding.scopus.value, 'label': ethConfigService.getLabel(config, 'linkScopus')});\r\n            if(binding.researchgate && binding.researchgate.value)wiki.profiles.push({'url': 'https://www.researchgate.net/profile/' + binding.researchgate.value, 'label': ethConfigService.getLabel(config, 'linkResearchgate')});\r\n            if(binding.mendeley && binding.mendeley.value)wiki.profiles.push({'url': 'https://mendeley.com/profiles/' + binding.mendeley.value, 'label': ethConfigService.getLabel(config, 'linkMendeley')});\r\n            if(binding.dimension && binding.dimension.value)wiki.profiles.push({'url': 'https://app.dimensions.ai/discover/publication?and_facet_researcher=ur.' + binding.dimension.value, 'label': ethConfigService.getLabel(config, 'linkDimension')});\r\n            return wiki;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processWikiResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    function processwikiArchivesAtResponse(wikiResult){\r\n        try{\r\n            let wikiArchivesAtLinks = [];\r\n            let bindings = wikiResult[0].resp.results.bindings;\r\n            for(let i = 0; i < bindings.length; i++){\r\n                let url = bindings[i].ref ? bindings[i].ref.value: null;\r\n                let label =  bindings[i].archivedLabel ? bindings[i].archivedLabel.value : null;\r\n                let inventoryno =  bindings[i].inventoryno ? bindings[i].inventoryno.value : null;\r\n                wikiArchivesAtLinks.push({'url': url, 'label': label, 'inventoryno': inventoryno});\r\n            }\r\n            return wikiArchivesAtLinks;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processwikiArchivesAtResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    function processMetagridResponse(metagridResult, ethConfigService, config){\r\n        try{\r\n            let sourcesWhitelist = config.whitelistMetagrid;\r\n            let resources = metagridResult[0].resp.concordances[0].resources;\r\n            let whitelistedMetagridLinks = [];\r\n            let whitelistedMetagridLinksSorted = [];\r\n\r\n            if (!!resources[0] && resources.length > 0) {\r\n                let name = resources[0].last_name + ', ' + resources[0].first_name;\r\n\r\n                for(var j = 0; j < resources.length; j++){\r\n                    let resource = resources[j];\r\n                    // https://api.metagrid.ch/providers.json\r\n                    let slug = resource.provider.slug;\r\n                    let url = resource.link.uri;\r\n                    if (sourcesWhitelist.indexOf(slug) === -1) {\r\n                        continue;\r\n                    }\r\n                    let label = slug;\r\n                    try{\r\n                        label = ethConfigService.getLabel(config.sourcesMetagrid, slug);\r\n                    }\r\n                    catch(e){}\r\n                    whitelistedMetagridLinks.push({'slug': slug,'url': url, 'label': label});\r\n                }\r\n                // Dodis and HLS first\r\n                let dodis = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(dodis);\r\n                let hls = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug === 'hls-dhs-dss';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(hls);\r\n                let rest = whitelistedMetagridLinks.filter(e => {\r\n                    return e.slug !== 'hls-dhs-dss' && e.slug !== 'dodis';\r\n                });\r\n                whitelistedMetagridLinksSorted = whitelistedMetagridLinksSorted.concat(rest);\r\n            }\r\n            return whitelistedMetagridLinksSorted;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processMetagridResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    function processPersonsResponse(results, ethConfigService, config, lang){\r\n        try{\r\n            if(!lang)lang = 'de';\r\n            let person = {};\r\n            person.gnd = \"\";\r\n            let resultWithGnd = results.filter(e=>{\r\n                return e.gnd && e.gnd != \"\";\r\n            })\r\n            if(resultWithGnd.length > 0){\r\n                person.gnd = resultWithGnd[0].gnd;\r\n            }\r\n            // DNB Entityfacts\r\n            let entityfactsResult = results.filter(e => {\r\n                return e.provider === 'hub.culturegraph.org';\r\n            });\r\n            if(entityfactsResult.length > 0){\r\n                person.entityfacts = this.processEntityfactsResponse(entityfactsResult);\r\n            }\r\n\r\n            // Metagrid\r\n            let metagridResult = results.filter(e => {\r\n                return e.provider === 'api.metagrid.ch';\r\n            });\r\n            if(metagridResult.length > 0 && metagridResult[0].resp.concordances && metagridResult[0].resp.concordances.length > 0){\r\n                person.metagridLinks = this.processMetagridResponse(metagridResult, ethConfigService, config);\r\n            }\r\n\r\n            // Findbuch\r\n            let findbuchResult = results.filter(e => {\r\n                return e.provider === 'beacon.findbuch.de/seealso/pnd-aks';\r\n            });\r\n            if(findbuchResult.length > 0 && findbuchResult[0].resp && findbuchResult[0].resp[1]){\r\n                person.findbuchLinks = this.processFindbuchResponse(findbuchResult, ethConfigService, config);\r\n            }\r\n            // Wikidata bio and Links\r\n            let wikiResult = results.filter(e => {\r\n                return e.provider === 'query.wikidata.org' && e.resp.head.vars.indexOf(\"birth\") > -1;\r\n            });\r\n            if(wikiResult.length > 0){\r\n                person.wiki = this.processWikiResponse(wikiResult, ethConfigService, config);\r\n            }\r\n\r\n            // Wikidata archives at\r\n            let wikiArchivesAtResult = results.filter(e => {\r\n                return e.provider === 'query.wikidata.org' && e.resp.head.vars.indexOf(\"refnode\") > -1;\r\n            });\r\n\r\n            if(wikiArchivesAtResult.length > 0){\r\n                person.wikiArchivesAtLinks = this.processwikiArchivesAtResponse(wikiArchivesAtResult);\r\n            }\r\n            return person;\r\n        }\r\n        catch(e){\r\n            console.error(\"***ETH*** an error occured: ethPersonCardsService.processPersonsResponse(): \\n\\n\");\r\n            console.error(e.message);\r\n            throw(e);\r\n        }\r\n    }\r\n\r\n    /** @private */\r\n    function keepResponse(response) {\r\n        return response;\r\n    }\r\n\r\n    /** @private */\r\n    function keepError(e) {\r\n        console.error(\"ethPersonCardsService: rejected query: \\n\\n\" + e.config.url);\r\n        return e;\r\n    }\r\n\r\n    return {\r\n        getPerson: getPerson,\r\n        processWikiResponse: processWikiResponse,\r\n        processwikiArchivesAtResponse: processwikiArchivesAtResponse,\r\n        processFindbuchResponse: processFindbuchResponse,\r\n        processEntityfactsResponse: processEntityfactsResponse,\r\n        processMetagridResponse: processMetagridResponse,\r\n        processPersonsResponse: processPersonsResponse\r\n    };\r\n\r\n}]\r\n","/**\n* @ngdoc service\n* @key ethConfigService\n*\n* @description\n*\n* Service to get and handle informations from a module config:\n* - getLabel()\n* - getUrl()\n* - getLanguage()\n*\n */\nexport const ethConfigService = ['$rootScope', function( $rootScope ){\n\n    function getLanguage(){\n        try{\n            let sms = $rootScope.$$childHead.$ctrl.userSessionManagerService;\n            if (!sms) {\n                console.error(\"***ETH*** ethConfigService: userSessionManagerService not available\");\n                return 'en';\n            }\n            else{\n                return sms.getUserLanguage() || $window.appConfig['primo-view']['attributes-map'].interfaceLanguage;\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLanguage():\");\n            console.error(e.message);\n            return 'en';\n        }\n    }\n\n\n    function getLabel(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.label[key]) {\n                console.error(\"***ETH*** ethConfigService.getLabel: '\" + key + \"' not in config\");\n                return key;\n            }\n            if(config.label[key][lang]){\n                return config.label[key][lang];\n            }\n            else{\n                return config.label[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getLabel():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    function getUrl(config, key) {\n        try{\n            let lang = this.getLanguage();\n            if (!config.url[key]) {\n                console.error(\"***ETH*** ethConfigService.getUrl: '\" + key + \"' not in config\");\n                return '';\n            }\n            if(config.url[key][lang]){\n                return config.url[key][lang];\n            }\n            else{\n                return config.url[key]['en'];\n            }\n        }\n        catch(e){\n            console.error(\"***ETH*** an error occured: ethConfigService.getUrl():\");\n            console.error(e.message);\n            return '';\n        }\n    }\n\n    return {\n        getLanguage: getLanguage,\n        getLabel: getLabel,\n        getUrl: getUrl\n    };\n}]\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n  General entry to Primo custom methods\r\n\r\n  (c)2020 KULeuven/LIBIS\r\n  Mehmet Celik\r\n*/\r\n\r\n\"use strict\"\r\nimport Primo from './primo';\r\nimport Loader from './loader';\r\nimport MessageService from './factories/messageService';\r\nimport 'primo-explore-eth-openurl-interlibrary';\r\nimport 'primo-explore-eth-person-card';\r\nimport './modules/pubSubInterceptor';\r\nimport './modules/altmetric';\r\nimport './modules/matomo';\r\nimport './modules/bibtip';\r\nimport './modules/browzine';\r\nimport './modules/remoteUrl';\r\n/* import './modules/userlike'; */\r\n\r\n/* import 'primo-explore-eth-archives-getit'; */\r\n\r\n/* import './swisscovery/41SLSP_NETWORK-VU1_UNION/js/slsp-edit-personal-details'; */\r\n/* import './swisscovery/41SLSP_NETWORK-VU1_UNION/js/slsp-http-intercept-requests'; */\r\n\r\n\r\n(function () {\r\n  //let customType = 'centralCustom';\r\n  let customType = 'viewCustom';\r\n  let moduleList = ['remoteUrl', 'pubSubInterceptor', 'oc.lazyLoad', 'ngMaterial', 'angularLoad',\r\n                    'matomo', 'browzine', 'altmetric', 'bibtip', 'ethOpenurlInterlibraryModule',\r\n                    , 'ethJournalsStartpageModule', 'ethPersonCardModule'];\r\n  /* let moduleList = ['remoteUrl', 'pubSubInterceptor', 'oc.lazyLoad', 'ngMaterial', 'angularLoad',\r\n                    'matomo', 'browzine', 'altmetric', 'bibtip', 'ethOpenurlInterlibraryModule',\r\n                    'userlike', 'ethJournalsStartpageModule', 'ethPersonCardModule']; */\r\n\r\n  let app = angular.module(customType, moduleList).service('MessageService', MessageService);\r\n\r\n//   app.config(function($provide) {\r\n//     $provide.decorator('slspIButton', function($delegate) {\r\n//         var directive = $delegate[0];\r\n//         directive.template = '<div>New overridden template!</div>';\r\n//         return $delegate;\r\n//     });\r\n// });\r\n\r\n//   app.config(['$provide', function($provide) {\r\n\r\n//     // monkey-patches $templateCache to have a keys() method\r\n//     $provide.decorator('$templateCache', [\r\n//         '$delegate', function($delegate) {\r\n//             let keys = [];\r\n//             let origPut = $delegate.put;\r\n\r\n//             $delegate.put = function(key, value) {\r\n//                 origPut(key, value);\r\n//                 keys.push(key);\r\n//             };\r\n\r\n//             $delegate.keys = function() {\r\n//                 return keys;\r\n//             };\r\n\r\n//             $delegate.data = function() {\r\n//               return data;\r\n//             }\r\n\r\n//             return $delegate;\r\n//         }\r\n//     ]);\r\n// }]);\r\n\r\n  //Load components\r\n  new Loader().load(customType);\r\n  console.log(`Done initializing ${customType}`)\r\n})();"],"names":["AlertMessageController","constructor","$scope","MessageService","$onInit","self","show","$inject","alertMessagecomponent","name","enabled","appendTo","enableInView","config","bindings","parentCtrl","controller","template","altmetricHTML","AltMetricController","$element","$window","item","doi","isbn","id","guid","recordid","pnx","addata","control","altmetricWatcher","$watch","altmetricLoaded","window","_altmetric_embed_init","isbnExists","document","querySelector","doiExists","runTrigger","n","o","console","log","s4","Math","floor","random","toString","substring","altMetricComponent","authorDisplayCollectionsHTML","AuthorDisplayCollectionsController","vm","showAuthor","hasOwnProperty","author","au","addau","authorDisplayCollectionsConfig","BrowzineController","result","browzineWatcher","browzine","primo","scope","$ctrl","searchResult","browzineComponent","DotTestController","$ocLazyLoad","$injector","dotTestComponent","ethConfigService","$rootScope","getLanguage","sms","$$childHead","userSessionManagerService","error","getUserLanguage","appConfig","interfaceLanguage","e","message","getLabel","key","lang","label","getUrl","url","ethJournalsStartpageConfig","heading","de","en","p1","p2","ill","h3","option1a","option1b","option2a","option2b","option3a","option3b","option4a","option4b","ethJournalsStartpageController","ethJournalsStartpageHtml","angular","module","factory","component","afterCtrl","JournalsStartPageController","mainParentCtrl","journalsStartPageComponent","openHourComponent","libInfoSeedComponent","libInfoComponent","infoHTML","infoJSON","Record","LibInfoController","$translate","libinfoService","iconUrl","then","info","Object","keys","includes","libCode","libid","libname","code","type","current","library","all","index","lib","split","location","loc","libraryCode","openhourHTML","Session","OpenHourController","element","translate","libraryInfo","showLib","getInfo","mainLocation","filter","f","weekdayText","day","text","Intl","DateTimeFormat","view","weekday","format","charAt","toUpperCase","slice","LibInfoSeedController","$compile","$timeout","divs","parent","find","compile","timeout","parentEl","addLibraryInfo","#addLibraryInfo","libraryElements","Primo","record","allAsElement","forEach","el","i","a","selector","query","addLibInfo","addLocationInfo","#addLocationInfo","elementVisible","locationElements","length","querySelectorAll","addItemInfo","#addItemInfo","libraryWatcher","getComputedStyle","visibility","map","m","remove","locationWatcher","itemWatcher","undefined","elInfo","createElement","setAttribute","$elInfo","compiledElInfo","$parent","$new","append","addChevron","appendEl","$el","compiledEl","linksContainerHTML","linksContainerEComponent","linkHMTL","LinkController","user","fines","isOnCampus","isLoggedIn","allFines","count","sum","parseFloat","finesum","reduce","p","c","onCampus","loggedIn","linkClass","class","linkText","linkUrl","linksComponent","linksContainerPComponent","onCampusHTML","OnCampusController","offCampus","onCampusComponent","OpenUrlILLController","rzsOpenUrlILLComponent","ethOpenurlInterlibraryConfig","linktext","link","openingHoursHTML","OpeningHoursController","locationCode","data","openingHoursWatcher","openingHours","visible","language","toggle","date","Date","isOpen","getDay","hasData","hours","open","institution","organization","response","fetch","headers","Accept","ok","json","openingHoursComponent","openingHoursSeedComponent","openingHoursSeedController","target","Array","isArray","from","prepend","PersonCardController","rzsPersonCardComponent","RequestMessageController","infoForm","parentElement","params","feesInfo","instant","feesUrl","feesLinkText","$doCheck","form","children","lastChild","firstChild","innerHTML","replace","elem","insertBefore","requestMessagecomponent","searchAlsoBodyHTML","SearchAlsoBodyController","$location","viewCode","targets","_targets","search","facetGroup","parsedQuery","searchTerms","join","mapping","type_mappings","searchAlsoBodyComponent","SearchAlsoController","facetService","searchAsoWatcher","results","push","displayedType","limitCount","facetGroupCollapsed","values","searchAlsoComponent","messageServiceHTML","$mdToast","$sce","mdToast","sce","rootScope","arguments","options","hideDelay","action","actionLabel","messageKey","toastConfig","body","controllerAs","_this","onClose","hide","onAction","$event","call","trustAsHtml","html","position","_index","_index2","_index3","_index4","_index5","_index6","_ethConfigService","_ethJournalsStartpageConfig","_ethJournalsStartpageConfig_original","_ethJournalsStartpageController","_ethJournalsStartpageModule","_index7","_index8","_index9","_index10","_index11","_index12","_index13","_index14","_index15","_index16","_index17","_index18","_index19","_openurlIllConfig","_index20","_index21","_index22","_index23","_dirImport","Components","String","prototype","toCamelCase","d","Loader","load","modType","_injectComponentPlaceHoldersIntoAfterComponents","_importComponents","components","component_def","RegExp","test","vid","_createComponents","afterComponents","elements","constant","subComponents","run","angularLoad","loadScript","now","watcher","bibTipURL","apiId","apikey","journal","issue","article","downloadEnabled","download","articlePDFDownloadViaUnpaywallText","articleLinkViaUnpaywallText","articleAcceptedManuscriptPDFViaUnpaywallText","articleAcceptedManuscriptArticleLinkViaUnpaywallText","api","apiKey","journalBrowZineWebLinkText","articleBrowZineWebLinkText","articlePDFDownloadLinkEnabled","articlePDFDownloadLinkText","articleLinkText","matomoID","matomoURL","_paq","PrimoPubSub","pubSub","subscribe","reqRes","itemInfo","locations","items","itempolicy","topics","hOP","isReady","watcherId","_watcher","setTimeout","fireEvent","clearTimeout","restBaseURLs","baseURLs","injector","get","fulldisplay","topic","listener","splice","listEvents","listBeforeTopics","listAfterTopics","findTopicKeyByURLValue","v","urlV","URL","origin","k","pathname","startsWith","delegateTopic","prefix","responseData","topicName","subscription","newReqRes","event","CustomEvent","detail","bubbles","cancelable","composed","dispatchEvent","eventName","_pubSub","_itempolicy","interceptors","$httpProvider","$q","request","reject","$sceDelegateProvider","resourceUrlWhitelist","Common","app","appCtrl","userSession","jwt","jwtUtilService","getDecodedToken","isFullView","isFullViewOverlay","http","h","Component","list","tags","getElementsByTagName","tag","tagName","localName","obj","componentName","controllers","Facet","PrimoSession","PrimoComponents","PrimoRecord","PrimoFacet","PrimoCommon","PrimoState","session","facet","common","state","version","Alma_Version","Library","LocationItem","Location","CurrentRecord","currentItem","searchStateService","resultObject","source","that","recordId","sourceRecord","showSource","style","height","width","appendChild","showModal","fullViewPageService","signedIn","userFines","email","display_name","getUserNameForDisplay","user_name","userName","viewId","inst","ip","userIp","#userFines","set","myAccountBaseURL","status","fine","instance","globalState","State","Error","value","stateInstance","freeze","customType","moduleList","service"],"sourceRoot":""}